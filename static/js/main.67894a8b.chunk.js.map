{"version":3,"sources":["components/icon.jsx","helpers.js","data.js","pages/search/type-button.jsx","pages/search/form.jsx","navbar.jsx","components/head.jsx","components/humanize.jsx","components/truncate.jsx","pages/search/examples-modal.jsx","pages/search/pagination.jsx","pages/search/results.jsx","pages/search/sort-button.jsx","components/spinner.jsx","pages/search/page.jsx","pages/package/header.jsx","components/file-preview.jsx","pages/package/compatibility.jsx","pages/package/examples.jsx","constants.js","pages/package/installation.jsx","components/shield.jsx","pages/package/sidebar.jsx","pages/package/versions.jsx","pages/package/tabs.jsx","pages/package/page.jsx","app.jsx","index.js"],"names":["Icon","props","svgContent","svgViewBox","svgSize","size","name","d","xmlns","width","height","viewBox","className","parseRepositoryUrl","url","parsedUrl","URL","includes","hostname","pathParts","pathname","split","length","username","reponame","endsWith","slice","provider","capitalize","string","charAt","toUpperCase","pkgTypeToPlural","type","usePackageData","ownername","version","examples","pkgTypeToSingular","data","error","useSWR","revalidateIfStale","revalidateOnFocus","revalidateOnReconnect","isLoading","isError","SearchTypeButton","searchParams","useSearchParams","currentType","get","_makeTypeUrl","qs","URLSearchParams","forEach","key","delete","set","toString","id","map","to","undefined","SearchForm","navigate","useNavigate","location","useLocation","isAdvanced","isSearchPage","startsWith","inputValue","setInputValue","useState","searchFocused","setSearchFocused","inputRef","useRef","onDidSearch","event","current","blur","preventDefault","_kdListener","keyCode","focus","document","removeEventListener","bind","this","useEffect","addEventListener","advancedForm","role","onSubmit","placeholder","ref","value","onChange","target","onFocus","onBlur","navbarForm","style","right","top","fill","stroke","opacity","disabled","propTypes","PropTypes","oneOf","Navbar","href","src","alt","Head","Helmet","titleTemplate","title","content","description","noindex","dayjs","extend","require","hljs","registerLanguage","marked","setOptions","renderer","Renderer","highlight","code","lang","language","getLanguage","err","console","langPrefix","Humanize","djs","dateTime","format","from","humanizeUrl","prettyBytes","Intl","NumberFormat","dangerouslySetInnerHTML","__html","DOMPurify","sanitize","parse","versionParts","rawVersion","parseInt","originalVersion","Error","HumanizeCode","copyVisible","setCopyVisible","copied","setCopied","onMouseOver","e","onMouseOut","text","onCopy","setTimeout","Truncate","expand","setExpand","max","btn","onClick","lessTitle","moreTitle","Array","truncateText","ellipsize","ellipse","substring","defaultProps","oneOfType","array","isRequired","number","SearchExamplesModal","makeSearch","query","Modal","getInstance","getElementById","hide","makeSearchUrl","tabIndex","rel","SearchPagination","total","resultsPerPage","_makePaginationUrl","page","pagination","Paginator","build","currentPage","pages","current_page","push","p","first_page","last_page","total_pages","has_previous_page","index","has_next_page","next_page","SearchResults","items","item","makePackageUrl","owner","keywords","keyword","popularity_trend","popularity_rank","stars_count","released_at","SearchSortButton","defaultSort","currentSort","_makeSortUrl","sort","verticalAlign","Spinner","SearchPage","searchQuery","searchType","searchSort","result","filters","trim","join","qsStr","useSearchResult","limit","Object","filterArr","entries","PackageHeader","customVersion","byOwner","by","firstname","lastname","getByOwner","FilePreview","contents","async","axios","transformResponse","useExternalContents","fileName","lastIndexOf","toLowerCase","fileExt","renderCode","PackageCompatibility","allFrameworks","useFrameworks","allPlatforms","usePlatforms","getTitle","find","nameCmp","a","b","scope","frameworks","colSpan","platforms","renderBreadcrumb","path","pathComponents","makeSelfUrl","extraPath","renderExplorer","children","level","example","nameLengthCmp","files","computeChildPath","childPath","_exmp","visitedNames","child","isFile","foldersAndFilesCmp","listExampleChildren","readmeFile","readmeFileUrl","f","makeRequestExamplesUrl","repository_url","homepage","parts","packageUrl","resolve","append","PackageExamples","explorerPath","useParams","fileUrl","activeExample","renderQuickStartGuide","deps","option","optionDocsUrl","renderUsageGuide","examplesUrl","guide","headers","renderLibraryUsageGuide","renderCLIGuide","cmd","cmdDocsUrl","PackageInstallation","requirements","is_latest","test","Shield","shieldImgUrl","message","withCode","PackageSidebar","versionsUrl","Math","abs","license","open_issues_count","modified_at","unpacked_size","versions","authors","author","s","makeReleaseNotesUrl","repositoryUrl","PackageVersions","versionToMajor","latestMajorVersions","coercedVersion","semver","coerce","majorVersion","major","gt","added_at","PackageTabs","tabs","icon","active","leftoverPath","counter","examples_count","filter","tab","element","readme_url","PackagePage","call","querySelectorAll","Tooltip","window","scrollTo","params","swrConfig","fetcher","onErrorRetry","config","revalidate","retryCount","notifyError","appNotifyError","response","status","errorRetryInterval","App","Toast","show","swrError","setSwrError","routes","zIndex","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.67894a8b.chunk.js","sourcesContent":["/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport {\n  BookIcon,\n  CheckCircleIcon,\n  ChevronLeftIcon,\n  ChevronRightIcon,\n  CodeIcon,\n  CopyIcon,\n  DownloadIcon,\n  FileDirectoryFillIcon,\n  FileIcon,\n  FileZipIcon,\n  GearIcon,\n  GraphIcon,\n  HeartIcon,\n  LinkExternalIcon,\n  LinkIcon,\n  MarkGithubIcon,\n  RepoForkedIcon,\n  SearchIcon,\n  ShieldCheckIcon,\n  StackIcon,\n  StarIcon,\n  TagIcon,\n  TriangleDownIcon,\n  TriangleUpIcon,\n  UnverifiedIcon,\n  XIcon,\n} from \"@primer/octicons-react\";\nimport PropTypes from \"prop-types\";\n\nfunction Icon(props) {\n  let svgContent = \"\";\n  let svgViewBox = \"0 0 16 16\";\n  let svgSize = props.size;\n  switch (props.name) {\n    case \"book\":\n      // https://primer.style/octicons/\n      return <BookIcon size={props.size} />;\n    case \"chevron-left\":\n      return <ChevronLeftIcon size={props.size} />;\n    case \"chevron-right\":\n      return <ChevronRightIcon size={props.size} />;\n    case \"download\":\n      return <DownloadIcon size={props.size} />;\n    case \"code\":\n      return <CodeIcon size={props.size} />;\n    case \"check-circle\":\n      return <CheckCircleIcon size={props.size} />;\n    case \"unverified\":\n      return <UnverifiedIcon size={props.size} />;\n    case \"graph\":\n      return <GraphIcon size={props.size} />;\n    case \"tag\":\n      return <TagIcon size={props.size} />;\n    case \"shield-check\":\n      return <ShieldCheckIcon size={props.size} />;\n    case \"heart\":\n      return <HeartIcon size={props.size} />;\n    case \"repo-forked\":\n      return <RepoForkedIcon size={props.size} />;\n    case \"triangle-up\":\n      return <TriangleUpIcon size={props.size} />;\n    case \"triangle-down\":\n      return <TriangleDownIcon size={props.size} />;\n    case \"link\":\n      return <LinkIcon size={props.size} />;\n    case \"link-external\":\n      return <LinkExternalIcon size={props.size} />;\n    case \"star\":\n      return <StarIcon size={props.size} />;\n    case \"copy\":\n      return <CopyIcon size={props.size} />;\n    case \"mark-github\":\n      return <MarkGithubIcon size={props.size} />;\n    case \"file-directory-fill\":\n      return <FileDirectoryFillIcon size={props.size} />;\n    case \"file\":\n      return <FileIcon size={props.size} />;\n    case \"file-zip\":\n      return <FileZipIcon size={props.size} />;\n    case \"search\":\n      return <SearchIcon size={props.size} />;\n    case \"x\":\n      return <XIcon size={props.size} />;\n    case \"package-library\":\n      return <BookIcon size={props.size} />;\n    case \"package-platform\":\n      return <StackIcon size={props.size} />;\n    case \"package-tool\":\n      return <GearIcon size={props.size} />;\n    case \"chart-up\":\n      // https://www.imdb.com/title/tt0381061/\n      svgSize = svgSize || \"24px\";\n      svgViewBox = \"0 0 24 24\";\n      svgContent = (\n        <path d=\"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-2.6 0-5-1.3-6.4-3.3l2.8-3.4 1.3 1.5c.4.4 1 .4 1.3 0l2.9-3.2 1.3 1.4c.3.3.8.1.8-.3V8.5c0-.3-.2-.5-.5-.5h-4c-.4 0-.6.5-.3.8l1.3 1.4-2.2 2.5L9 11.3c-.4-.4-1-.4-1.3 0L4.6 15c-.4-.9-.6-1.9-.6-3 0-4.4 3.6-8 8-8s8 3.6 8 8-3.6 8-8 8z\"></path>\n      );\n      break;\n\n    case \"chart-down\":\n      // https://www.imdb.com/title/tt0381061/\n      svgSize = svgSize || \"24px\";\n      svgViewBox = \"0 0 24 24\";\n      svgContent = (\n        <path d=\"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-4.4 0-8-3.6-8-8 0-1.4.4-2.8 1-3.9L8.4 12c.4.4 1 .4 1.4 0l1.4-1.5 2.4 2.6-1.4 1.4c-.3.3-.1.9.4.9h4.3c.3 0 .5-.2.5-.5v-4.3c0-.4-.5-.7-.9-.3L15 11.6l-3.1-3.3c-.4-.4-1-.4-1.4 0L9.2 9.8 6.3 6.4C7.7 4.9 9.7 4 12 4c4.4 0 8 3.6 8 8s-3.6 8-8 8z\"></path>\n      );\n      break;\n\n    default:\n      return \"Unknown icon\";\n  }\n\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={svgSize}\n      height={svgSize}\n      viewBox={svgViewBox}\n      className=\"pricon\"\n    >\n      {svgContent}\n    </svg>\n  );\n}\n\nIcon.propTypes = {\n  name: PropTypes.string.isRequired,\n  size: PropTypes.any,\n};\n\nexport default Icon;\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nexport function parseRepositoryUrl(url) {\n  if (!url) return undefined;\n  const parsedUrl = new URL(url);\n  if (![\"github.com\", \"gitlab.com\"].includes(parsedUrl.hostname)) {\n    return undefined;\n  }\n  const pathParts = parsedUrl.pathname.split(\"/\");\n  if (pathParts.length < 3) {\n    return undefined;\n  }\n  let [, username, reponame] = pathParts;\n  if (reponame.endsWith(\".git\")) {\n    reponame = reponame.slice(0, -4);\n  }\n  return {\n    provider: parsedUrl.hostname.split(\".\")[0],\n    username,\n    reponame,\n  };\n}\n\nexport function capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport { REGISTRY_API_ENDPOINT } from \"./constants\";\nimport axios from \"axios\";\nimport useSWR from \"swr\";\n\nexport function pkgTypeToSingular(type) {\n  if (type.endsWith(\"ies\")) type = type.slice(0, -3) + \"y\";\n  if (type.endsWith(\"s\")) type = type.slice(0, -1);\n  return type;\n}\n\nexport function pkgTypeToPlural(type) {\n  if (type.endsWith(\"y\")) return type.slice(0, -1) + \"ies\";\n  return type + \"s\";\n}\n\nexport async function dataFetcher(url) {\n  if (!url.startsWith(\"http\")) {\n    url = REGISTRY_API_ENDPOINT + url;\n  }\n  const res = await axios.get(url);\n  // console.debug(\"fetch result\", url, res);\n  return res.data;\n}\n\nexport function usePackageData({ type, ownername, name, version, examples }) {\n  type = pkgTypeToSingular(type);\n  const { data, error } = useSWR(\n    `/v3/packages/${ownername}/${type}/${name}${examples ? \"/examples\" : \"\"}${\n      version ? `?version=${version}` : \"\"\n    }`,\n    {\n      revalidateIfStale: false,\n      revalidateOnFocus: !version,\n      revalidateOnReconnect: !version,\n    }\n  );\n  return {\n    data: data,\n    isLoading: !error && !data,\n    isError: error,\n  };\n}\n\nexport function useFrameworks() {\n  const { data, error } = useSWR(\"/v1/frameworks\", {\n    revalidateIfStale: false,\n    revalidateOnFocus: false,\n    revalidateOnReconnect: false,\n  });\n  return {\n    data: data,\n    isLoading: !error && !data,\n    isError: error,\n  };\n}\n\nexport function usePlatforms() {\n  const { data, error } = useSWR(\"/v1/platforms\", {\n    revalidateIfStale: false,\n    revalidateOnFocus: false,\n    revalidateOnReconnect: false,\n  });\n  return {\n    data: data,\n    isLoading: !error && !data,\n    isError: error,\n  };\n}\n\nexport function useExternalContents(url) {\n  const { data, error } = useSWR(\n    url,\n    async (url) => (await axios.get(url, { transformResponse: [] })).data,\n    {\n      revalidateIfStale: false,\n      revalidateOnFocus: false,\n      revalidateOnReconnect: false,\n    }\n  );\n  return {\n    contents: data,\n    isLoading: !error && !data,\n    isError: error,\n  };\n}\n\nexport function useSearchResult({ query, page, sort, type }) {\n  const qs = new URLSearchParams();\n  const filters = [];\n  if (query) filters.push(query.trim());\n  if (type) filters.push(`type:\"${type}\"`);\n  if (filters.length) qs.set(\"query\", filters.join(\" \"));\n  if (sort) qs.set(\"sort\", sort);\n  try {\n    if (parseInt(page) > 1) qs.set(\"page\", parseInt(page));\n  } catch (err) {\n    if (page) qs.set(\"page\", page);\n  }\n  const qsStr = qs.toString();\n  const { data, error } = useSWR(`/v3/search${qsStr ? `?${qsStr}` : \"\"}`);\n  return {\n    result: data,\n    isLoading: !error && !data,\n    isError: error,\n  };\n}\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport { Link, useSearchParams } from \"react-router-dom\";\nimport { capitalize } from \"../../helpers\";\nimport { pkgTypeToPlural } from \"../../data\";\n\nexport default function SearchTypeButton() {\n  const [searchParams] = useSearchParams();\n  const currentType = searchParams.get(\"t\") || \"all\";\n  const _makeTypeUrl = (type) => {\n    const qs = new URLSearchParams(searchParams);\n    [\"p\", \"t\"].forEach((key) => qs.delete(key));\n    if (type) qs.set(\"t\", type);\n    return \"/search?\" + qs.toString();\n  };\n\n  return (\n    <>\n      <button\n        className=\"btn btn-outline-secondary dropdown-toggle\"\n        type=\"button\"\n        id=\"searchTypeMenu\"\n        data-bs-toggle=\"dropdown\"\n        aria-expanded=\"false\"\n      >\n        {currentType === \"all\"\n          ? \"All\"\n          : capitalize(pkgTypeToPlural(currentType))}\n      </button>\n\n      <ul\n        className=\"dropdown-menu dropdown-menu-dark\"\n        aria-labelledby=\"searchTypeMenu\"\n      >\n        {[\"all\", \"library\", \"platform\", \"tool\"].map((type) => (\n          <li key={type}>\n            <Link\n              className={`dropdown-item ${\n                currentType === type ? \"active\" : \"\"\n              }`}\n              to={_makeTypeUrl(type === \"all\" ? undefined : type)}\n            >\n              {type === \"all\" ? \"All\" : capitalize(pkgTypeToPlural(type))}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n}\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport { useEffect, useRef, useState } from \"react\";\nimport { useLocation, useNavigate, useSearchParams } from \"react-router-dom\";\nimport Icon from \"./../../components/icon\";\nimport PropTypes from \"prop-types\";\nimport SearchTypeButton from \"./type-button\";\n\nfunction SearchForm(props) {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const isAdvanced = props.type === \"advanced\";\n  const isSearchPage = location.pathname.startsWith(\"/search\");\n  const [searchParams] = useSearchParams();\n  const [inputValue, setInputValue] = useState(\n    (isAdvanced ? searchParams.get(\"q\") : \"\") || \"\"\n  );\n  const [searchFocused, setSearchFocused] = useState(false);\n  const inputRef = useRef(null);\n\n  const onDidSearch = (event) => {\n    const qs = new URLSearchParams(searchParams);\n    [\"p\", \"q\"].forEach((key) => qs.delete(key));\n    if (inputValue) qs.set(\"q\", inputValue);\n    navigate(`/search?${qs.toString()}`);\n    if (props.type === \"navbar\") {\n      setInputValue(\"\");\n      inputRef.current.blur();\n    }\n    event.preventDefault();\n  };\n\n  const onDidKeyDown = (event) => {\n    if (event.keyCode === 191 && inputRef.current) {\n      inputRef.current.focus();\n      setSearchFocused(true);\n      event.preventDefault();\n      document.removeEventListener(\"keydown\", _kdListener);\n    }\n    if (event.keyCode === 27) {\n      inputRef.current.blur();\n    }\n  };\n  const _kdListener = onDidKeyDown.bind(this);\n\n  useEffect(() => {\n    if (isSearchPage && !isAdvanced) return;\n    document.addEventListener(\"keydown\", _kdListener);\n    return function cleanup() {\n      document.removeEventListener(\"keydown\", _kdListener);\n    };\n  });\n\n  const advancedForm = (\n    <form role=\"search\" onSubmit={(event) => onDidSearch(event)}>\n      <div className=\"input-group input-group-lg mb-1\">\n        <SearchTypeButton />\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          name=\"q\"\n          placeholder=\"Search for libraries, platforms or tools\"\n          aria-label=\"Search for libraries, platforms or tools\"\n          aria-describedby=\"button-search-submit\"\n          ref={inputRef}\n          value={inputValue}\n          onChange={(event) => setInputValue(event.target.value)}\n          onFocus={() => setSearchFocused(true)}\n          onBlur={() => setSearchFocused(false)}\n        />\n        <button\n          className=\"btn btn-primary\"\n          type=\"submit\"\n          id=\"button-search-submit\"\n        >\n          <Icon name=\"search\" size=\"22\" />\n        </button>\n      </div>\n    </form>\n  );\n\n  const navbarForm = (\n    <form\n      role=\"search\"\n      className=\"pt-2 pt-lg-0 pe-lg-2\"\n      onSubmit={(event) => onDidSearch(event)}\n    >\n      <div\n        className={`float-end position-relative ${\n          searchFocused ? \"invisible\" : \"visible\"\n        }`}\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"22\"\n          height=\"20\"\n          aria-hidden=\"true\"\n          className=\"position-absolute\"\n          style={{ right: \"0.2rem\", top: \"0.3rem\" }}\n        >\n          <path\n            fill=\"none\"\n            stroke=\"#979A9C\"\n            opacity=\".4\"\n            d=\"M3.5.5h12c1.7 0 3 1.3 3 3v13c0 1.7-1.3 3-3 3h-12c-1.7 0-3-1.3-3-3v-13c0-1.7 1.3-3 3-3z\"\n          ></path>\n          <path fill=\"#979A9C\" d=\"M11.8 6L8 15.1h-.9L10.8 6h1z\"></path>\n        </svg>\n      </div>\n      <input\n        className={`form-control form-control-sm border-secondary ${\n          searchFocused ? \"\" : \"bg-dark text-white\"\n        }`}\n        type=\"search\"\n        name=\"q\"\n        placeholder=\"Search...\"\n        aria-label=\"Search\"\n        ref={inputRef}\n        value={inputValue}\n        disabled={isSearchPage}\n        onChange={(event) => setInputValue(event.target.value)}\n        onFocus={() => setSearchFocused(true)}\n        onBlur={() => setSearchFocused(false)}\n      />\n    </form>\n  );\n\n  return isAdvanced ? advancedForm : navbarForm;\n}\n\nSearchForm.propTypes = {\n  type: PropTypes.oneOf([\"advanced\", \"navbar\"]),\n};\n\nexport default SearchForm;\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport SearchForm from \"./pages/search/form\";\n\nexport default function Navbar() {\n  return (\n    <nav className=\"navbar navbar-dark navbar-expand-lg bg-dark shadow\">\n      <div className=\"container\">\n        <a className=\"navbar-brand\" href=\"/\">\n          <img src=\"/favicon.png\" alt=\"\" className=\"d-inline-block\" />\n          <small className=\"ms-2\">Registry</small>\n        </a>\n        <button\n          className=\"navbar-toggler\"\n          type=\"button\"\n          data-bs-toggle=\"collapse\"\n          data-bs-target=\"#navbarToggler\"\n          aria-controls=\"navbarToggler\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\"\n        >\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n        <div className=\"collapse navbar-collapse\" id=\"navbarToggler\">\n          <SearchForm type=\"navbar\" />\n          <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\n            <li className=\"nav-item\">\n              <a className=\"nav-link\" href=\"#\">\n                Explore\n              </a>\n            </li>\n            <li className=\"nav-item\">\n              <a className=\"nav-link\" href=\"#\">\n                Pricing\n              </a>\n            </li>\n          </ul>\n          <ul className=\"navbar-nav\">\n            <li className=\"nav-item external-item\">\n              <a className=\"nav-link\" href=\"https://docs.platformio.org\">\n                <small>Documentation</small>\n              </a>\n            </li>\n            <li className=\"nav-item external-item pe-2\">\n              <a className=\"nav-link\" href=\"https://platformio.org\">\n                <small>PlatformIO.Org</small>\n              </a>\n            </li>\n            <li className=\"nav-item technology-item\">\n              <a\n                className=\"nav-link\"\n                href=\"https://piolabs.com/technology/trusted-package-registry.html\"\n              >\n                TECHNOLOGY\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n  );\n}\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport { Helmet } from \"react-helmet\";\nimport PropTypes from \"prop-types\";\n\nfunction Head(props) {\n  return (\n    <Helmet titleTemplate=\"%s – PlatformIO\">\n      <title>{props.title}</title>\n      <meta name=\"description\" content={props.description} />\n      {props.noindex ? <meta name=\"robots\" content=\"noindex\" /> : \"\"}\n    </Helmet>\n  );\n}\n\nHead.propTypes = {\n  title: PropTypes.string,\n  description: PropTypes.string,\n  noindex: PropTypes.bool,\n};\n\nexport default Head;\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport DOMPurify from \"dompurify\";\nimport PropTypes from \"prop-types\";\nimport dayjs from \"dayjs\";\nimport hljs from \"highlight.js/lib/core\";\nimport humanizeUrl from \"humanize-url\";\nimport { marked } from \"marked\";\nimport prettyBytes from \"pretty-bytes\";\nimport { useState } from \"react\";\n\ndayjs.extend(require(\"dayjs/plugin/relativeTime\"));\n\nhljs.registerLanguage(\n  \"plaintext\",\n  require(\"highlight.js/lib/languages/plaintext\")\n);\nhljs.registerLanguage(\"c\", require(\"highlight.js/lib/languages/c\"));\nhljs.registerLanguage(\"cpp\", require(\"highlight.js/lib/languages/cpp\"));\nhljs.registerLanguage(\"json\", require(\"highlight.js/lib/languages/json\"));\nhljs.registerLanguage(\"ini\", require(\"highlight.js/lib/languages/ini\"));\nhljs.registerLanguage(\"python\", require(\"highlight.js/lib/languages/python\"));\nhljs.registerLanguage(\"shell\", require(\"highlight.js/lib/languages/shell\"));\n\nmarked.setOptions({\n  renderer: new marked.Renderer(),\n  highlight: function (code, lang) {\n    const language = hljs.getLanguage(lang) ? lang : \"plaintext\";\n    try {\n      return hljs.highlight(code, { language }).value;\n    } catch (err) {\n      console.error(\"Could not highlight code -> \", code);\n    }\n    return code;\n  },\n  langPrefix: \"hljs language-\",\n});\n\nfunction Humanize(props) {\n  if (props.type === \"time\") {\n    const djs = dayjs(props.value);\n    return (\n      <time dateTime={props.value} title={djs.toString()}>\n        {props.format ? djs.format(props.format) : djs.from()}\n      </time>\n    );\n  }\n  if (props.type === \"url\") {\n    return humanizeUrl(props.value);\n  }\n  if (props.type === \"size\") {\n    return prettyBytes(props.value);\n  }\n  if (props.type === \"counter\") {\n    try {\n      return new Intl.NumberFormat(\"en-US\").format(props.value);\n    } catch (err) {\n      return props.value;\n    }\n  }\n  if (props.type === \"markdown\") {\n    return (\n      <div\n        dangerouslySetInnerHTML={{\n          __html: DOMPurify.sanitize(marked.parse(props.value)),\n        }}\n      />\n    );\n  }\n  if (props.type === \"original-version\") {\n    // https://github.com/platformio/platformio-core/blob/develop/platformio/package/version.py#L45\n    const versionParts = props.value.split(\".\");\n    if (versionParts.length !== 3) return props.value;\n    const rawVersion = versionParts[1];\n    if (parseInt(rawVersion) <= 99) return props.value;\n    const originalVersion =\n      parseInt(rawVersion) <= 9999\n        ? `${parseInt(rawVersion.slice(0, -2))}.${parseInt(\n            rawVersion.slice(-2)\n          )}`\n        : `${rawVersion.slice(0, -4)}.${parseInt(\n            rawVersion.slice(-4, -2)\n          )}.${parseInt(rawVersion.slice(-2))}`;\n    return `${props.value} (${originalVersion})`;\n  }\n  throw new Error(\"Unknown humanize type -> \" + props.type);\n}\n\nHumanize.propTypes = {\n  type: PropTypes.oneOf([\n    \"time\",\n    \"url\",\n    \"size\",\n    \"counter\",\n    \"markdown\",\n    \"original-version\",\n  ]).isRequired,\n  value: PropTypes.any.isRequired,\n  format: PropTypes.string,\n  copyCode: PropTypes.string,\n};\n\nexport default Humanize;\n\nexport function HumanizeCode({ code, lang }) {\n  const [copyVisible, setCopyVisible] = useState(false);\n  const [copied, setCopied] = useState(false);\n  const language = hljs.getLanguage(lang) ? lang : \"plaintext\";\n\n  const onCopy = () => {\n    setCopied(true);\n    setTimeout(() => setCopied(false), 2000);\n  };\n\n  return (\n    <div\n      className=\"file-contents\"\n      onMouseOver={(e) => setCopyVisible(true)}\n      onMouseOut={(e) => setCopyVisible(false)}\n    >\n      <div\n        className={`position-relative float-end ${\n          copyVisible ? \"visible\" : \"invisible\"\n        }`}\n      >\n        <CopyToClipboard text={code} onCopy={onCopy}>\n          <button\n            type=\"button\"\n            className={`btn-copy-code btn btn-sm btn-outline-${\n              copied ? \"success\" : \"primary\"\n            }`}\n            data-bs-toggle=\"tooltip\"\n            title=\"Click to Copy Code\"\n          >\n            {copied ? \"Copied!\" : \"Copy\"}\n          </button>\n        </CopyToClipboard>\n      </div>\n      <pre className=\"p-0 m-0\">\n        <code\n          className={`m-0 hljs language-${language}`}\n          dangerouslySetInnerHTML={{\n            __html: hljs.highlight(code, { language }).value,\n          }}\n        />\n      </pre>\n    </div>\n  );\n}\n\nHumanizeCode.propTypes = {\n  code: PropTypes.string.isRequired,\n  lang: PropTypes.string,\n};\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport PropTypes from \"prop-types\";\nimport ellipsize from \"ellipsize\";\nimport { useState } from \"react\";\n\nfunction Truncate(props) {\n  const [expand, setExpand] = useState(false);\n  if (!props.value || props.value.length <= props.max) {\n    return props.value;\n  }\n  const btn = (\n    <button\n      type=\"button\"\n      className=\"btn btn-link btn-sm btn-truncate\"\n      onClick={() => setExpand(!expand)}\n    >\n      {expand ? props.lessTitle : props.moreTitle}\n    </button>\n  );\n  return (\n    <>\n      {expand\n        ? props.value\n        : props.value instanceof Array\n        ? props.value.slice(0, props.max)\n        : truncateText(props.value, props.max)}\n      {btn}\n    </>\n  );\n}\n\nfunction truncateText(text, max) {\n  if (text.length < max) return text;\n  text = ellipsize(text, max, { ellipse: \"\" });\n  while ([\".\", \",\", \";\"].includes(text[text.length - 1])) {\n    text = text.substring(0, text.length - 1);\n  }\n  return text + \"...\";\n}\n\nTruncate.defaultProps = {\n  lessTitle: \"Show less\",\n  moreTitle: \"Show more\",\n};\n\nTruncate.propTypes = {\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.array]).isRequired,\n  max: PropTypes.number.isRequired,\n  lessTitle: PropTypes.string,\n  moreTitle: PropTypes.string,\n};\n\nexport default Truncate;\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport Icon from \"./../../components/icon\";\nimport { Modal } from \"bootstrap\";\nimport { makeSearchUrl } from \"./../search/page\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function SearchExamplesModal() {\n  const navigate = useNavigate();\n  const makeSearch = (query) => {\n    Modal.getInstance(document.getElementById(\"searchExamplesModal\")).hide();\n    navigate(makeSearchUrl({ query }));\n  };\n  return (\n    <div\n      className=\"modal fade\"\n      id=\"searchExamplesModal\"\n      tabIndex=\"-1\"\n      aria-labelledby=\"searchExamplesLabel\"\n      aria-hidden=\"true\"\n    >\n      <div className=\"modal-dialog modal-lg\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\" id=\"searchExamplesLabel\">\n              Syntax &amp; Examples\n            </h5>\n            <button\n              type=\"button\"\n              className=\"btn-close\"\n              data-bs-dismiss=\"modal\"\n              aria-label=\"Close\"\n            ></button>\n          </div>\n          <div className=\"modal-body\">\n            <table className=\"table table-hover table-striped\">\n              <thead>\n                <tr>\n                  <th>Search</th>\n                  <th>Shows</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr>\n                  <td>\n                    <div className=\"hstack gap-2 flex-wrap\">\n                      <div>\n                        <button\n                          onClick={() => makeSearch(\"ds18*\")}\n                          className=\"btn btn-outline-primary btn-sm\"\n                        >\n                          <Icon name=\"search\" /> DS18*\n                        </button>\n                      </div>\n                      <div>\n                        <button\n                          onClick={() => makeSearch(\"pca*\")}\n                          className=\"btn btn-outline-primary btn-sm\"\n                        >\n                          <Icon name=\"search\" /> PCA*\n                        </button>\n                      </div>\n                      <div>\n                        <button\n                          onClick={() => makeSearch(\"dht*\")}\n                          className=\"btn btn-outline-primary btn-sm\"\n                        >\n                          <Icon name=\"search\" /> DHT*\n                        </button>\n                      </div>\n                      <div>\n                        <button\n                          onClick={() => makeSearch(\"sht*\")}\n                          className=\"btn btn-outline-primary btn-sm\"\n                        >\n                          <Icon name=\"search\" /> SHT*\n                        </button>\n                      </div>\n                    </div>\n                  </td>\n                  <td>\n                    <u>The asterisk</u> <code>*</code> serves as the truncation\n                    (or wildcard) operator.\n                    <br />\n                    If you don't know the full name of a package, then use the\n                    first 2-3 letters and <code>*</code> operator.\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <button\n                      onClick={() => makeSearch(\"framework:arduino i2c\")}\n                      className=\"btn btn-outline-primary btn-sm\"\n                    >\n                      <Icon name=\"search\" /> framework:arduino i2c\n                    </button>\n                  </td>\n                  <td>\n                    Arduino-compatible{\" \"}\n                    <code>\n                      I<sup>2</sup>C/TWI\n                    </code>{\" \"}\n                    packages\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <button\n                      onClick={() => makeSearch(\"platform:espressif32\")}\n                      className=\"btn btn-outline-primary btn-sm\"\n                    >\n                      <Icon name=\"search\" /> platform:espressif32\n                    </button>\n                  </td>\n                  <td>\n                    Packages compatible with <code>espressif32</code> platform\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <button\n                      onClick={() => makeSearch(\"keyword:web keyword:http\")}\n                      className=\"btn btn-outline-primary btn-sm\"\n                    >\n                      <Icon name=\"search\" /> keyword:web keyword:http\n                    </button>\n                  </td>\n                  <td>\n                    Filter by <code>web</code> and <code>http</code> keywords.\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <button\n                      onClick={() => makeSearch(\"sensor -temperature\")}\n                      className=\"btn btn-outline-primary btn-sm\"\n                    >\n                      <Icon name=\"search\" /> sensor -temperature\n                    </button>\n                  </td>\n                  <td>\n                    The all sensor libraries excluding temperature (\n                    <code>-</code> operator)\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <button\n                      onClick={() =>\n                        makeSearch(\"framework:mbed +(nRF24 HttpClient)\")\n                      }\n                      className=\"btn btn-outline-primary btn-sm\"\n                    >\n                      <Icon name=\"search\" /> framework:mbed +(nRF24 HttpClient)\n                    </button>\n                  </td>\n                  <td>\n                    mbedOS-compatible <code>nRF24</code> or{\" \"}\n                    <code>HttpClient</code> libraries. The search query can be\n                    interpreted like{\" \"}\n                    <code>mbed nRF24 OR energia HttpClient</code>\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <button\n                      onClick={() => makeSearch(\"header:RH_ASK.h\")}\n                      className=\"btn btn-outline-primary btn-sm\"\n                    >\n                      <Icon name=\"search\" /> header:RH_ASK.h\n                    </button>\n                  </td>\n                  <td>\n                    Search by header file (<code>#include</code>)\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          <div className=\"modal-footer\">\n            <a\n              href=\"https://docs.platformio.org/en/latest/core/userguide/lib/cmd_search.html#description\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Advanced search syntax <Icon name=\"link-external\" />\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport { Link, useSearchParams } from \"react-router-dom\";\nimport Icon from \"./../../components/icon\";\nimport Paginator from \"paginator\";\nimport PropTypes from \"prop-types\";\n\nfunction SearchPagination(props) {\n  const [searchParams] = useSearchParams();\n  if (props.total <= props.resultsPerPage) return \"\";\n  const _makePaginationUrl = (page) => {\n    const qs = new URLSearchParams(searchParams);\n    qs.set(\"p\", page);\n    return \"/search?\" + qs.toString();\n  };\n  const pagination = new Paginator(props.resultsPerPage, 7).build(\n    props.total,\n    props.currentPage\n  );\n  const pages = [];\n  if (pagination.current_page > 6) {\n    pages.push(...[1, 2, null]);\n  }\n  let p = pagination.first_page;\n  while (p <= pagination.last_page) {\n    pages.push(p);\n    p++;\n  }\n  if (pagination.total_pages > pagination.current_page + 5) {\n    pages.push(...[null, pagination.total_pages - 1, pagination.total_pages]);\n  }\n\n  return (\n    <nav aria-label=\"Page navigation\">\n      <ul className=\"pagination justify-content-center flex-wrap\">\n        <li\n          className={`page-item ${\n            !pagination.has_previous_page ? \"disabled\" : \"\"\n          }`}\n        >\n          <Link\n            to={_makePaginationUrl(pagination.first_page)}\n            className=\"page-link\"\n          >\n            <Icon name=\"chevron-left\" /> Previous\n          </Link>\n        </li>\n        {pages.map((page, index) => (\n          <li\n            key={index}\n            className={\n              page === pagination.current_page\n                ? \"page-item active\"\n                : page\n                ? \"page-item\"\n                : \"pt-1\"\n            }\n          >\n            {page ? (\n              <Link to={_makePaginationUrl(page)} className=\"page-link\">\n                {page}\n              </Link>\n            ) : (\n              \"...\"\n            )}\n          </li>\n        ))}\n        <li\n          className={`page-item ${!pagination.has_next_page ? \"disabled\" : \"\"}`}\n        >\n          <Link\n            to={_makePaginationUrl(pagination.next_page)}\n            className=\"page-link\"\n          >\n            Next <Icon name=\"chevron-right\" />\n          </Link>\n        </li>\n      </ul>\n    </nav>\n  );\n}\n\nSearchPagination.propTypes = {\n  total: PropTypes.number.isRequired,\n  currentPage: PropTypes.number.isRequired,\n  resultsPerPage: PropTypes.number.isRequired,\n};\n\nexport default SearchPagination;\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport Humanize from \"../../components/humanize\";\nimport Icon from \"../../components/icon\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { makePackageUrl } from \"./../package/page\";\nimport { makeSearchUrl } from \"./page\";\n\nexport default function SearchResults(props) {\n  return (\n    <ul className=\"list-group list-group-flush\">\n      {props.items.map((item) => (\n        <li key={item.id} className=\"list-group-item d-flex py-4\">\n          <div\n            className=\"flex-shrink-0 me-2 pt-1\"\n            title={item.type.toUpperCase()}\n          >\n            <Icon name={`package-${item.type}`} />\n          </div>\n          <div className=\"flex-grow-1 text-break\">\n            <h3 className=\"h4\">\n              <Link\n                to={makePackageUrl({\n                  type: item.type,\n                  ownername: item.owner.username,\n                  name: item.name,\n                })}\n              >\n                {item.owner.username}/{item.name}\n              </Link>\n            </h3>\n            <p className=\"mb-1 text-break\">{item.description}</p>\n            <div className=\"mb-2\">\n              {item.keywords.map((keyword) => (\n                <span\n                  key={keyword}\n                  className=\"badge rounded-pill text-primary bg-info me-2\"\n                >\n                  <Link to={makeSearchUrl({ query: { keyword } })}>\n                    {keyword}\n                  </Link>\n                </span>\n              ))}\n            </div>\n            <small>\n              <ul className=\"list-inline text-muted\">\n                <li\n                  className={`list-inline-item me-1 ${\n                    item.popularity_trend < 0 ? \"text-danger\" : \"text-success\"\n                  }`}\n                  title=\"Popularity\"\n                >\n                  <Icon\n                    name={item.popularity_trend < 0 ? \"chart-down\" : \"chart-up\"}\n                    size=\"18\"\n                  />\n                </li>\n                <li className=\"list-inline-item\" title=\"Popularity\">\n                  <Humanize type=\"counter\" value={item.popularity_rank} />\n                </li>\n                {item.popularity_rank <= 100 ? (\n                  <>\n                    <li className=\"list-inline-item\">·</li>\n                    <li className=\"list-inline-item me-1\">\n                      <Icon name=\"heart\" />\n                    </li>\n                    <li className=\"list-inline-item\">TOP 100</li>\n                  </>\n                ) : (\n                  \"\"\n                )}\n                {item.stars_count ? (\n                  <>\n                    <li className=\"list-inline-item\">·</li>\n                    <li className=\"list-inline-item me-1\" title=\"Stars\">\n                      <Icon name=\"star\" />\n                    </li>\n                    <li className=\"list-inline-item\" title=\"Stars\">\n                      <Humanize type=\"counter\" value={item.stars_count} />\n                    </li>\n                  </>\n                ) : (\n                  \"\"\n                )}\n                <li className=\"list-inline-item\">·</li>\n                <li className=\"list-inline-item\">\n                  Published{\" \"}\n                  <Humanize type=\"time\" value={item.version.released_at} />\n                </li>\n              </ul>\n            </small>\n          </div>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nSearchResults.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      type: PropTypes.string.isRequired,\n      name: PropTypes.string.isRequired,\n      owner: PropTypes.shape({\n        username: PropTypes.string.isRequired,\n      }).isRequired,\n      keywords: PropTypes.arrayOf(PropTypes.string),\n      stars_count: PropTypes.number.isRequired,\n      popularity_rank: PropTypes.number.isRequired,\n      popularity_trend: PropTypes.number.isRequired,\n      version: PropTypes.shape({\n        released_at: PropTypes.string.isRequired,\n      }).isRequired,\n    })\n  ),\n};\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport { Link, useSearchParams } from \"react-router-dom\";\nimport Icon from \"./../../components/icon\";\nimport { capitalize } from \"../../helpers\";\n\nexport default function SearchSortButton() {\n  const [searchParams] = useSearchParams();\n  const defaultSort = \"relevance\";\n  const currentSort = searchParams.get(\"s\") || defaultSort;\n  const _makeSortUrl = (sort) => {\n    const qs = new URLSearchParams(searchParams);\n    [\"s\", \"q\"].forEach((key) => qs.delete(key));\n    if (sort !== defaultSort) qs.set(\"s\", sort);\n    return \"/search?\" + qs.toString();\n  };\n  return (\n    <ul className=\"list-inline\">\n      <li className=\"list-inline-item me-1\">\n        <small className=\"text-muted\">Search</small>\n      </li>\n      <li className=\"list-inline-item\">\n        <button\n          type=\"button\"\n          className=\"btn btn-sm btn-link p-0\"\n          style={{ verticalAlign: \"inherit\" }}\n          data-bs-toggle=\"modal\"\n          data-bs-target=\"#searchExamplesModal\"\n        >\n          examples\n        </button>\n      </li>\n      <li className=\"list-inline-item px-lg-1\">|</li>\n      <li className=\"list-inline-item me-1\">\n        <small className=\"text-muted\">Sort by</small>\n      </li>\n      <li className=\"list-inline-item\">\n        <div className=\"dropdown\">\n          <button\n            type=\"button\"\n            className=\"btn btn-sm btn-link p-0\"\n            id=\"searchSortMenu\"\n            data-bs-toggle=\"dropdown\"\n            aria-expanded=\"false\"\n            style={{ verticalAlign: \"inherit\" }}\n          >\n            {currentSort}\n            <Icon name=\"triangle-down\" />\n          </button>\n\n          <ul\n            className=\"dropdown-menu dropdown-menu-dark\"\n            aria-labelledby=\"searchSortMenu\"\n          >\n            {[defaultSort, \"popularity\", \"trending\", \"maintenance\"].map(\n              (sort) => (\n                <li key={sort}>\n                  <Link\n                    className={`dropdown-item ${\n                      currentSort === sort ? \"active\" : \"\"\n                    }`}\n                    to={_makeSortUrl(sort)}\n                  >\n                    {capitalize(sort)}\n                  </Link>\n                </li>\n              )\n            )}\n          </ul>\n        </div>\n      </li>\n    </ul>\n  );\n}\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nfunction Spinner(props) {\n  return (\n    <div className=\"text-center\">\n      <div className=\"spinner-border spinner-border-sm\" role=\"status\">\n        <span className=\"visually-hidden\">Loading...</span>\n      </div>\n    </div>\n  );\n}\n\nexport default Spinner;\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport Head from \"../../components/head\";\nimport Humanize from \"../../components/humanize\";\nimport SearchExamplesModal from \"./examples-modal\";\nimport SearchForm from \"./form\";\nimport SearchPagination from \"./pagination\";\nimport SearchResults from \"./results\";\nimport SearchSortButton from \"./sort-button\";\nimport Spinner from \"../../components/spinner\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { useSearchResult } from \"./../../data\";\n\nexport default function SearchPage() {\n  const [searchParams] = useSearchParams();\n  const searchQuery = searchParams.get(\"q\");\n  const searchType = searchParams.get(\"t\");\n  const searchSort = searchParams.get(\"s\");\n  const { result, isLoading, isError } = useSearchResult({\n    query: searchQuery,\n    page: searchParams.get(\"p\"),\n    sort: searchSort,\n    type: searchType,\n  });\n  if (isLoading || isError) return <Spinner />;\n  return (\n    <>\n      <Head title={`Search: ${searchQuery}`} />\n      <div className=\"container justify-content-center\">\n        <div className=\"row\">\n          <div className=\"col-0 col-lg-1\"></div>\n          <div className=\"col col-lg-10\">\n            <SearchForm type=\"advanced\" />\n            <div className=\"d-flex\">\n              <div className=\"flex-fill text-muted\">\n                <small>\n                  Found <Humanize type=\"counter\" value={result.total} />{\" \"}\n                  packages\n                </small>\n              </div>\n              <div>\n                <SearchSortButton />\n              </div>\n            </div>\n          </div>\n          <div className=\"col-0 col-lg-1\"></div>\n        </div>\n      </div>\n      <SearchExamplesModal />\n      {result.total ? (\n        <>\n          <hr />\n          <SearchResults items={result.items} />\n          <SearchPagination\n            total={result.total}\n            currentPage={result.page}\n            resultsPerPage={result.limit}\n          />\n        </>\n      ) : (\n        <div className=\"text-center pt-4\">\n          <h5 className=\"card-title\">Nothing has been found by your request</h5>\n          <p className=\"card-text\">\n            Try a less-specific search or use truncation (or wildcard) operator{\" \"}\n            <code>*</code>\n          </p>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary\"\n            style={{ verticalAlign: \"inherit\" }}\n            data-bs-toggle=\"modal\"\n            data-bs-target=\"#searchExamplesModal\"\n          >\n            Search Examples\n          </button>\n        </div>\n      )}\n    </>\n  );\n}\n\nexport function makeSearchUrl({ query, page, type }) {\n  const qs = new URLSearchParams();\n  if (query instanceof Object) {\n    const filterArr = [];\n    for (const [key, value] of Object.entries(query)) {\n      filterArr.push(`${key}:${value.includes(\" \") ? `\"${value}\"` : value}`);\n    }\n    qs.set(\"q\", filterArr.join(\" \"));\n  } else if (query) {\n    qs.set(\"q\", query);\n  }\n  if (page) qs.set(\"p\", page);\n  if (type) qs.set(\"t\", type);\n  return \"/search?\" + qs.toString();\n}\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport Head from \"../../components/head\";\nimport Humanize from \"../../components/humanize\";\nimport Icon from \"../../components/icon\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport Truncate from \"../../components/truncate\";\nimport { makeSearchUrl } from \"./../search/page\";\nimport { useSearchParams } from \"react-router-dom\";\n\nexport default function PackageHeader(props) {\n  const [searchParams] = useSearchParams();\n  const customVersion = searchParams.get(\"version\");\n  const byOwner = getByOwner(props.data.owner);\n  return (\n    <>\n      <Head\n        title={props.data.name + \" by \" + byOwner}\n        description={props.data.description}\n        noindex={!!customVersion}\n      />\n      <div className=\"hstack flex-wrap gap-2\">\n        <div>\n          <h1 className=\"h2\">\n            {props.data.owner.username}/{props.data.name}\n          </h1>\n        </div>\n        <div>\n          <small className=\"h5 me-2\">\n            <span className=\"text-muted me-1\">by</span>\n            <Link\n              to={makeSearchUrl({\n                query: { owner: props.data.owner.username },\n              })}\n            >\n              {byOwner}\n            </Link>\n          </small>\n        </div>\n        <div>\n          <sup className=\"h5\">\n            <span className=\"badge bg-secondary text-uppercase me-2\">\n              <div className=\"d-flex flex-row align-items-center\">\n                <div>\n                  <Icon name={`package-${props.data.type}`} />\n                </div>\n                <div className=\"ps-2\">{props.data.type}</div>\n              </div>\n            </span>\n            {/* <span className=\"badge bg-success me-2\">\n              <div className=\"d-flex flex-row align-items-center\">\n                <div>\n                  <Icon name=\"shield-check\" />\n                </div>\n                <div className=\"ps-2\">OFFICIAL</div>\n              </div>\n            </span> */}\n            {props.data.popularity_rank <= 100 ? (\n              <span className=\"badge bg-danger me-2\">\n                <div className=\"d-flex flex-row align-items-center\">\n                  <div>\n                    <Icon name=\"heart\" />\n                  </div>\n                  <div className=\"ps-2\">TOP 100</div>\n                </div>\n              </span>\n            ) : (\n              \"\"\n            )}\n          </sup>\n        </div>\n      </div>\n      <ul className=\"list-inline text-muted\">\n        <li className=\"list-inline-item\">\n          <Humanize type=\"original-version\" value={props.data.version.name} />\n        </li>\n        <li className=\"list-inline-item\">•</li>\n        <li className=\"list-inline-item text-success\">Public</li>\n        <li className=\"list-inline-item\">•</li>\n        <li className=\"list-inline-item\">\n          Published{\" \"}\n          <Humanize type=\"time\" value={props.data.version.released_at} />\n        </li>\n        {props.data.keywords ? (\n          <>\n            <li className=\"list-inline-item\">•</li>\n            <li className=\"list-inline-item\">\n              <Truncate\n                value={props.data.keywords.map((item) => (\n                  <span\n                    key={item}\n                    className=\"badge rounded-pill text-primary bg-info me-2\"\n                  >\n                    <Link\n                      key={item}\n                      to={makeSearchUrl({ query: { keyword: item } })}\n                    >\n                      {item}\n                    </Link>\n                  </span>\n                ))}\n                max={5}\n                moreTitle={`+ ${props.data.keywords.length - 5} categories`}\n              />\n            </li>\n          </>\n        ) : (\n          \"\"\n        )}\n      </ul>\n      <p className=\"mb-4 text-break\">\n        <Truncate\n          value={props.data.description}\n          max={255}\n          moreTitle=\"Read more →\"\n        />\n      </p>\n    </>\n  );\n}\n\nPackageHeader.propTypes = {\n  data: PropTypes.shape({\n    type: PropTypes.string.isRequired,\n    owner: PropTypes.shape({\n      username: PropTypes.string.isRequired,\n    }).isRequired,\n    name: PropTypes.string.isRequired,\n    description: PropTypes.string.isRequired,\n    version: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      released_at: PropTypes.string.isRequired,\n      is_latest: PropTypes.bool.isRequired,\n    }).isRequired,\n    keywords: PropTypes.arrayOf(PropTypes.string),\n    popularity_rank: PropTypes.number.isRequired,\n  }).isRequired,\n};\n\nfunction getByOwner(owner) {\n  let by = owner.firstname || \"\";\n  if (owner.lastname) {\n    by += (by ? \" \" : \"\") + owner.lastname;\n  }\n  return by || owner.username;\n}\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport Humanize, { HumanizeCode } from \"./humanize\";\nimport PropTypes from \"prop-types\";\nimport Spinner from \"./spinner\";\nimport { useExternalContents } from \"../data\";\n\nfunction FilePreview(props) {\n  const { contents } = useExternalContents(props.url);\n  if (!contents) {\n    return <Spinner />;\n  }\n  const fileName = props.url\n    .substring(props.url.lastIndexOf(\"/\") + 1)\n    .toLowerCase();\n  const fileExt = fileName\n    .substring(fileName.lastIndexOf(\".\") + 1)\n    .toLowerCase();\n\n  if (fileExt === \"md\") {\n    return (\n      <div className=\"readme-contents\">\n        <Humanize type=\"markdown\" value={contents} />\n      </div>\n    );\n  }\n  return renderCode(contents, fileExt);\n}\n\nfunction renderCode(contents, lang) {\n  if ([\"h\", \"hpp\", \"ino\", \"pde\"].includes(lang)) {\n    lang = \"cpp\";\n  }\n  return <HumanizeCode code={contents} lang={lang} />;\n}\n\nFilePreview.propTypes = {\n  url: PropTypes.string.isRequired,\n};\n\nexport default FilePreview;\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport { useFrameworks, usePlatforms } from \"../../data\";\nimport Icon from \"../../components/icon\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport Spinner from \"../../components/spinner\";\nimport { makeSearchUrl } from \"./../search/page\";\n\nfunction PackageCompatibility(props) {\n  const allFrameworks = useFrameworks().data;\n  const allPlatforms = usePlatforms().data;\n  if (!allFrameworks || !allPlatforms) return <Spinner />;\n  const getTitle = (items, name) => {\n    const item = items.find((item) => item.name === name);\n    return item ? item.title : name;\n  };\n  const nameCmp = (a, b) => {\n    if (a > b) return 1;\n    if (a < b) return -1;\n    return 0;\n  };\n  return (\n    <>\n      <h2 className=\"h3\">Compatibility</h2>\n      <div className=\"row\">\n        <div className=\"col\">\n          <table className=\"table table-hover\">\n            <thead>\n              <tr>\n                <th scope=\"col\">Framework</th>\n                <th scope=\"col\"></th>\n              </tr>\n            </thead>\n            <tbody>\n              {!(props.data.frameworks || []).length ? (\n                <tr>\n                  <td colSpan=\"2\">No information</td>\n                </tr>\n              ) : props.data.frameworks.includes(\"*\") ? (\n                <tr>\n                  <td className=\"w-100\">\n                    <Link\n                      to={makeSearchUrl({\n                        query: { keyword: \"framework\" },\n                        type: \"tool\",\n                      })}\n                    >\n                      Any supported framework\n                    </Link>\n                  </td>\n                  <td className=\"text-success\">\n                    <Icon name=\"check-circle\" size=\"20\" />\n                  </td>\n                </tr>\n              ) : (\n                props.data.frameworks.sort(nameCmp).map((name) => (\n                  <tr className=\"align-middle\">\n                    <td className=\"w-100\">\n                      <Link\n                        to={makeSearchUrl({\n                          query: name,\n                          type: \"tool\",\n                        })}\n                      >\n                        {getTitle(allFrameworks, name)}\n                      </Link>\n                    </td>\n                    <td className=\"text-success\">\n                      <Icon name=\"check-circle\" size=\"20\" />\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n        <div className=\"col\">\n          <table className=\"table table-hover\">\n            <thead>\n              <tr>\n                <th scope=\"col\">Platform</th>\n                <th scope=\"col\"></th>\n              </tr>\n            </thead>\n            <tbody>\n              {!(props.data.platforms || []).length ? (\n                <tr>\n                  <td colSpan=\"2\">No information</td>\n                </tr>\n              ) : props.data.platforms.includes(\"*\") ? (\n                <tr>\n                  <td className=\"w-100\">\n                    <Link\n                      to={makeSearchUrl({\n                        type: \"platform\",\n                      })}\n                    >\n                      Any supported platform\n                    </Link>\n                  </td>\n                  <td className=\"text-success\">\n                    <Icon name=\"check-circle\" size=\"20\" />\n                  </td>\n                </tr>\n              ) : (\n                props.data.platforms.sort(nameCmp).map((name) => (\n                  <tr className=\"align-middle\">\n                    <td className=\"w-100\">\n                      <Link\n                        to={makeSearchUrl({\n                          query: name,\n                          type: \"platform\",\n                        })}\n                      >\n                        {getTitle(allPlatforms, name)}\n                      </Link>\n                    </td>\n                    <td className=\"text-success\">\n                      <Icon name=\"check-circle\" size=\"20\" />\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </>\n  );\n}\n\nPackageCompatibility.propTypes = {\n  data: PropTypes.shape({\n    frameworks: PropTypes.arrayOf(PropTypes.string),\n    platforms: PropTypes.arrayOf(PropTypes.string),\n  }).isRequired,\n};\n\nexport default PackageCompatibility;\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport { useParams, useSearchParams } from \"react-router-dom\";\nimport FilePreview from \"../../components/file-preview\";\nimport Icon from \"../../components/icon\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { REGISTRY_DL_ENDPOINT } from \"../../constants\";\nimport Spinner from \"../../components/spinner\";\nimport { parseRepositoryUrl } from \"./../../helpers\";\nimport { usePackageData } from \"../../data\";\n\nfunction PackageExamples(props) {\n  const params = useParams();\n  const explorerPath = params[\"*\"] || undefined;\n  const [searchParams] = useSearchParams();\n  const customVersion = searchParams.get(\"version\");\n  const { data, isLoading, isError } = usePackageData({\n    type: props.data.type,\n    ownername: props.data.owner.username,\n    name: props.data.name,\n    version: customVersion,\n    examples: true,\n  });\n  if (isLoading || isError) return <Spinner />;\n\n  if (!data || !data.length) {\n    return (\n      <div className=\"card text-center\">\n        <div className=\"card-body\">\n          <h5 className=\"card-title\">No examples</h5>\n          <p className=\"card-text\">\n            The <b>{props.data.name}</b> package does not provide any examples\n            but you can request them.\n          </p>\n          <a\n            href={makeRequestExamplesUrl(props)}\n            className=\"btn btn-primary\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Request examples\n          </a>\n        </div>\n      </div>\n    );\n  }\n  let fileUrl = undefined;\n  let activeExample = undefined;\n  data.forEach((example) => {\n    if ((explorerPath + \"/\").startsWith(example.name + \"/\")) {\n      activeExample = example;\n    }\n    example.files.forEach((f) =>\n      [example.name, f.path].join(\"/\") === explorerPath ? (fileUrl = f.url) : \"\"\n    );\n  });\n  return (\n    <div className=\"examples\">\n      <div className=\"d-flex flex-row my-2\">\n        <div className=\"flex-fill\">{renderBreadcrumb(props, explorerPath)}</div>\n        {activeExample ? (\n          <div>\n            <a\n              className=\"btn btn-sm btn-success text-nowrap\"\n              href={`${REGISTRY_DL_ENDPOINT}/download/${props.data.owner.username}/${props.data.type}/${props.data.name}/${props.data.version.name}/example/${activeExample.name}.zip`}\n              role=\"button\"\n              data-bs-toggle=\"tooltip\"\n              title={`Download \"${activeExample.name\n                .split(\"/\")\n                .slice(-1)}\" example`}\n            >\n              <Icon name=\"file-zip\" /> Download\n            </a>\n          </div>\n        ) : (\n          \"\"\n        )}\n      </div>\n      {fileUrl ? (\n        <FilePreview url={fileUrl} />\n      ) : (\n        renderExplorer(props, data, explorerPath)\n      )}\n    </div>\n  );\n}\n\nfunction renderBreadcrumb(props, path) {\n  path = `examples${path ? `/${path}` : \"\"}`;\n  const pathComponents = path.split(\"/\");\n  return (\n    <nav aria-label=\"breadcrumb\">\n      <ol className=\"breadcrumb\">\n        {pathComponents.map((item, index) =>\n          index === pathComponents.length - 1 ? (\n            <li key={index} className=\"breadcrumb-item active\">\n              {index === 0 ? \"Examples\" : item}\n            </li>\n          ) : (\n            <li key={index} className=\"breadcrumb-item\">\n              <Link\n                to={props.makeSelfUrl({\n                  extraPath: pathComponents.slice(0, index + 1).join(\"/\"),\n                })}\n              >\n                {index === 0 ? \"Examples\" : item}\n              </Link>\n            </li>\n          )\n        )}\n      </ol>\n    </nav>\n  );\n}\n\nfunction renderExplorer(props, examples, path) {\n  const children = listExampleChildren(examples, path);\n  const readmeFile = children.find((item) =>\n    [\"readme\", \"readme.md\", \"readme.rst\", \"readme.txt\"].includes(\n      item.name.toLowerCase()\n    )\n  );\n  let readmeFileUrl = undefined;\n  if (readmeFile) {\n    examples.forEach((example) => {\n      example.files.forEach((f) =>\n        [example.name, f.path].join(\"/\") === readmeFile.path\n          ? (readmeFileUrl = f.url)\n          : \"\"\n      );\n    });\n  }\n  return (\n    <>\n      <div className=\"list-group example-explorer\">\n        {children.map((item) => (\n          <Link\n            key={item.path}\n            to={props.makeSelfUrl({\n              extraPath: `examples/${item.path}`,\n            })}\n            className=\"list-group-item list-group-item-action\"\n          >\n            <Icon\n              name={item.isFile ? \"file\" : \"file-directory-fill\"}\n              size=\"18\"\n            />\n            <span className=\"ms-2\">{item.name}</span>\n          </Link>\n        ))}\n      </div>\n      {readmeFileUrl ? (\n        <div className=\"mt-3\">\n          <FilePreview url={readmeFileUrl} />\n        </div>\n      ) : (\n        \"\"\n      )}\n    </>\n  );\n}\n\nfunction listExampleChildren(examples, path) {\n  path = path || \"\";\n  const level = path ? path.split(\"/\").length : 0;\n  const example = examples\n    .sort(nameLengthCmp)\n    .find((example) => path.startsWith(example.name));\n  const children = example\n    ? example.files.map((item) => `${example.name}/${item.path}`)\n    : examples.map((item) => item.name);\n\n  const computeChildPath = (name) => {\n    const childPath = path ? [path, name].join(\"/\") : name;\n    if (!example) {\n      const _exmp = examples.find((item) => item.name === childPath);\n      if (\n        _exmp &&\n        _exmp.files.length === 1 &&\n        !_exmp.files[0].path.includes(\"/\")\n      )\n        return [childPath, _exmp.files[0].path].join(\"/\");\n    }\n    return childPath;\n  };\n\n  const result = [];\n  const visitedNames = [];\n  for (const child of children) {\n    if (!child.startsWith(path)) {\n      continue;\n    }\n    const name = child.split(\"/\")[level];\n    if (visitedNames.includes(name)) {\n      continue;\n    }\n    visitedNames.push(name);\n    result.push({\n      isFile: child === [path, name].join(\"/\") && example,\n      name,\n      path: computeChildPath(name),\n    });\n  }\n\n  return result.sort(foldersAndFilesCmp);\n}\n\nfunction nameLengthCmp(a, b) {\n  if (a.name.length < b.name.length) return 1;\n  if (a.name.length > b.name.length) return -1;\n  return 0;\n}\n\nfunction foldersAndFilesCmp(a, b) {\n  if (a.isFile && !b.isFile) return 1;\n  if (!a.isFile && b.isFile) return -1;\n  if (a.name > b.name) return 1;\n  if (a.name < b.name) return -1;\n  return 0;\n}\n\nfunction makeRequestExamplesUrl(props) {\n  const result = props.data.repository_url || props.data.homepage;\n  const parts = parseRepositoryUrl(props.data.repository_url);\n  if (!parts) return result;\n  const packageUrl = props.makeSelfUrl({\n    resolve: true,\n  });\n  const qs = new URLSearchParams();\n  const title = \"[FR] Project Examples for PlatformIO Registry\";\n  const description = `\nHi,\n\nCurrently, the [${props.data.type} page](${packageUrl}) in the PlatformIO Registry doesn't contain any quick start projects for developers. Such examples serve both to highlight widespread use cases and to help newcomers to get up and running much more quickly.\n\nPlease consider adding a few comprehensive project examples to the PlatformIO Registry.\n\nUseful links:\n- ${packageUrl}\n- https://docs.platformio.org/en/latest/librarymanager/config.html#examples\n`.trim();\n  switch (parts.provider) {\n    case \"github\":\n      qs.append(\"title\", title);\n      qs.append(\"body\", description);\n      return `https://github.com/${parts.username}/${\n        parts.reponame\n      }/issues/new?${qs.toString()}`;\n    case \"gitlab\":\n      qs.append(\"issue[title]\", title);\n      qs.append(\"issue[description]\", description);\n      return `https://gitlab.com/${parts.username}/${\n        parts.reponame\n      }/-/issues/new/?${qs.toString()}`;\n    default:\n      return result;\n  }\n}\n\nPackageExamples.propTypes = {\n  data: PropTypes.shape({\n    type: PropTypes.string.isRequired,\n    owner: PropTypes.shape({\n      username: PropTypes.string.isRequired,\n    }).isRequired,\n    name: PropTypes.string.isRequired,\n    version: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n    }).isRequired,\n    repository_url: PropTypes.string,\n    homepage: PropTypes.string,\n  }).isRequired,\n  makeSelfUrl: PropTypes.func.isRequired,\n};\n\nexport default PackageExamples;\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nexport const REGISTRY_FRONTEND_ENDPOINT = \"https://registry.platformio.org\";\nexport const REGISTRY_API_ENDPOINT = \"https://api.registry.platformio.org\";\n// export const REGISTRY_API_ENDPOINT = \"http://127.0.0.1:8000\";\nexport const REGISTRY_DL_ENDPOINT = \"https://dl.registry.platformio.org\";\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport { HumanizeCode } from \"../../components/humanize\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport Truncate from \"../../components/truncate\";\n\nfunction PackageInstallation(props) {\n  let requirements = undefined;\n  if (props.data.version.is_latest) {\n    if (/^[\\d.]+$/.test(props.data.version.name)) {\n      requirements = \"^\" + props.data.version.name;\n    }\n  } else {\n    requirements = props.data.version.name;\n  }\n  const deps = `${props.data.owner.username}/${props.data.name}${\n    requirements ? `@${requirements}` : \"\"\n  }`;\n  return (\n    <div className=\"installation readme-contents\">\n      {renderQuickStartGuide(props.data.type, deps)}\n      {renderUsageGuide(props.data, props.makeSelfUrl)}\n      {renderCLIGuide(props.data.type, deps)}\n    </div>\n  );\n}\n\nfunction renderQuickStartGuide(type, deps) {\n  let option = undefined;\n  let optionDocsUrl = undefined;\n  switch (type) {\n    case \"library\":\n      option = \"lib_deps\";\n      optionDocsUrl =\n        \"https://docs.platformio.org/en/latest/projectconf/section_env_library.html#lib-deps\";\n      break;\n    case \"platform\":\n      option = \"platform\";\n      optionDocsUrl =\n        \"https://docs.platformio.org/en/latest/projectconf/section_env_platform.html\";\n      break;\n    case \"tool\":\n      option = \"platform_packages\";\n      optionDocsUrl =\n        \"https://docs.platformio.org/en/latest/projectconf/section_env_platform.html#platform-packages\";\n      break;\n    default:\n      return;\n  }\n  return (\n    <>\n      {type === \"tool\" ? (\n        <div className=\"alert alert-warning\" role=\"alert\">\n          You do not need to install tools manually, they are part of{\" \"}\n          <a href=\"https://docs.platformio.org/en/latest/platforms/index.html\">\n            Development Platforms\n          </a>\n          . If you want to override a platform-dependent tool with another\n          version, see the instruction below.\n        </div>\n      ) : (\n        \"\"\n      )}\n      <h2>Quick Start</h2>\n      <ol className=\"mb-4\">\n        <li className=\"pb-1\">\n          Open{\" \"}\n          <a href=\"https://docs.platformio.org/en/latest/projectconf/index.html\">\n            platformio.ini\n          </a>\n          , a project configuration file located in the root of PlatformIO\n          project.\n        </li>\n        <li>\n          Add the following <a href={optionDocsUrl}>{option}</a> option to your{\" \"}\n          <code>[env:]</code> section:\n          <div className=\"py-1 user-select-all\">\n            <HumanizeCode code={`${option} = ${deps}`} lang=\"cpp\" />\n          </div>\n        </li>\n        <li>\n          Build a project, PlatformIO will automatically install dependencies.\n        </li>\n      </ol>\n    </>\n  );\n}\n\nfunction renderUsageGuide(data, makeSelfUrl) {\n  const examplesUrl = makeSelfUrl({\n    extraPath: \"examples\",\n  });\n  let guide = undefined;\n  if (data.type === \"library\" && (data.headers || []).length) {\n    guide = renderLibraryUsageGuide(data.name, data.headers, examplesUrl);\n  } else if (data.type === \"tool\") {\n    guide = renderToolUsageGuide(data.name);\n  }\n\n  return (\n    <div className=\"mb-4\">\n      <h2>Usage</h2>\n      {guide || (\n        <>\n          Please check <Link to={examplesUrl}>Examples</Link> on how to use this\n          package.\n        </>\n      )}\n    </div>\n  );\n}\n\nfunction renderLibraryUsageGuide(name, headers, examplesUrl) {\n  if (headers.length === 1) {\n    return (\n      <ol>\n        <li className=\"pb-1\">\n          Add the following line to your source code:\n          <div className=\"my-1 user-select-all\">\n            <HumanizeCode code={`#include <${headers[0]}>`} lang=\"cpp\" />\n          </div>\n        </li>\n        <li>\n          Check <Link to={examplesUrl}>Examples</Link> on how to use the{\" \"}\n          <b>{name}</b> library.\n        </li>\n      </ol>\n    );\n  }\n  return (\n    <>\n      The <b>{name}</b> library provides the next header files that can be\n      included in your project:\n      <ul className=\"list-inline headers-list\">\n        <Truncate\n          value={headers.map((item) => (\n            <li className=\"list-inline-item\">\n              <code className=\"user-select-all\">{item}</code>\n            </li>\n          ))}\n          max={5}\n          moreTitle={`+ ${headers.length - 5} headers`}\n        />\n      </ul>\n      <div className=\"my-1 user-select-all\">\n        <HumanizeCode code={`#include <${headers[0]}>`} lang=\"cpp\" />\n      </div>\n    </>\n  );\n}\n\nfunction renderToolUsageGuide(name) {\n  return (\n    <>\n      The <b>{name}</b> will be installed to the{\" \"}\n      <a href=\"https://docs.platformio.org/en/latest/projectconf/section_platformio.html#packages-dir\">\n        package storage\n      </a>{\" \"}\n      on your machine. You can later refer to the <b>{name}</b> folder in the{\" \"}\n      <a href=\"https://docs.platformio.org/en/latest/projectconf/index.html\">\n        platformio.ini\n      </a>{\" \"}\n      file using the{\" \"}\n      <code>\n        {/* eslint-disable-next-line no-template-curly-in-string */}\n        {\"${platformio.package_dir}\"}\n      </code>{\" \"}\n      interpolation. <br />\n      See examples with{\" \"}\n      <a href=\"https://docs.platformio.org/en/latest/projectconf/section_env_upload.html#upload-command\">\n        upload_command\n      </a>{\" \"}\n      and{\" \"}\n      <a href=\"https://docs.platformio.org/en/latest/projectconf/section_env_debug.html#debug-server\">\n        debug_server\n      </a>\n      .\n    </>\n  );\n}\n\nfunction renderCLIGuide(type, deps) {\n  let cmd = undefined;\n  let cmdDocsUrl = undefined;\n  switch (type) {\n    case \"library\":\n      cmd = \"pio lib install\";\n      cmdDocsUrl =\n        \"https://docs.platformio.org/en/latest/core/userguide/lib/cmd_install.html\";\n      break;\n    case \"platform\":\n      cmd = \"pio platform install\";\n      cmdDocsUrl =\n        \"https://docs.platformio.org/en/latest/core/userguide/platforms/cmd_install.html\";\n      break;\n    default:\n      return;\n  }\n  return (\n    <>\n      <h2>Command Line Interface</h2>\n      <ol className=\"mb-4\">\n        <li className=\"pb-1\">\n          Open{\" \"}\n          <a href=\"https://docs.platformio.org/en/latest/core/index.html\">\n            PlatformIO Core CLI\n          </a>\n          .\n        </li>\n        {type === \"library\" ? (\n          <li className=\"pb-1\">\n            Change directory (<code>cd</code>) to the PlatformIO project where{\" \"}\n            <a href=\"https://docs.platformio.org/en/latest/projectconf/index.html\">\n              platformio.ini\n            </a>{\" \"}\n            is located.\n          </li>\n        ) : (\n          \"\"\n        )}\n        <li>\n          Copy the following <a href={cmdDocsUrl}>{cmd}</a> command and paste\n          into the CLI shell, press <kbd>Enter</kbd>:\n          <div className=\"my-1 user-select-all\">\n            <HumanizeCode code={`${cmd} \"${deps}\"`} lang=\"cpp\" />\n          </div>\n        </li>\n      </ol>\n    </>\n  );\n}\n\nPackageInstallation.propTypes = {\n  data: PropTypes.shape({\n    type: PropTypes.string.isRequired,\n    owner: PropTypes.shape({\n      username: PropTypes.string.isRequired,\n    }).isRequired,\n    name: PropTypes.string.isRequired,\n    headers: PropTypes.arrayOf(PropTypes.string.isRequired),\n    version: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      is_latest: PropTypes.bool.isRequired,\n    }).isRequired,\n  }).isRequired,\n  makeSelfUrl: PropTypes.func.isRequired,\n};\n\nexport default PackageInstallation;\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport PropTypes from \"prop-types\";\n\nfunction Shield(props) {\n  const shieldImgUrl = `https://img.shields.io/badge/PlatformIO-${props.message}-blue?logo=bmw`;\n  if (!props.withCode) {\n    return <img src={shieldImgUrl} alt={props.title} />;\n  }\n\n  return (\n    <div className=\"d-flex justify-content-between flex-wrap\">\n      <div className=\"pe-2\">\n        <img src={shieldImgUrl} alt={props.title} />\n      </div>\n      <div>\n        <div className=\"d-flex\">\n          <div>\n            <CopyToClipboard\n              text={`<a href=\"${props.href}\"><img src=\"${shieldImgUrl}\" alt=\"${props.title}\" /></a>`}\n            >\n              <button\n                type=\"button\"\n                className=\"btn btn-link btn-sm p-0\"\n                data-bs-toggle=\"tooltip\"\n                data-bs-placement=\"bottom\"\n                title=\"Copy HTML code\"\n              >\n                HTML\n              </button>\n            </CopyToClipboard>\n          </div>\n          <div className=\"px-1\">•</div>\n          <div>\n            <CopyToClipboard\n              text={`[![${props.title}](${shieldImgUrl})](${props.href})`}\n            >\n              <button\n                type=\"button\"\n                className=\"btn btn-link btn-sm p-0\"\n                data-bs-toggle=\"tooltip\"\n                data-bs-placement=\"bottom\"\n                title=\"Copy Markdown code\"\n              >\n                Markdown\n              </button>\n            </CopyToClipboard>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nShield.defaultProps = {\n  withCode: true,\n};\nShield.propTypes = {\n  title: PropTypes.string.isRequired,\n  message: PropTypes.string.isRequired,\n  href: PropTypes.string,\n  withCode: PropTypes.bool,\n};\n\nexport default Shield;\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport Humanize from \"../../components/humanize\";\nimport Icon from \"../../components/icon\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport Shield from \"../../components/shield\";\nimport Truncate from \"../../components/truncate\";\nimport { makeSearchUrl } from \"./../search/page\";\n\nfunction PackageSidebar(props) {\n  const versionsUrl = props.makeSelfUrl({\n    extraPath: \"versions\",\n  });\n  return (\n    <aside className=\"package-sidebar\">\n      <ul className=\"list-group list-group-flush\">\n        {props.data.homepage ? (\n          <li className=\"list-group-item\">\n            <h3>Repository</h3>\n            <div className=\"hstack\">\n              <div className=\"align-self-start\">\n                <Icon name=\"link\" />\n              </div>\n              <div className=\"text-break flex-wrap ps-2\">\n                <a\n                  href={props.data.homepage}\n                  className=\"text-small\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  <Humanize type=\"url\" value={props.data.homepage} />\n                </a>\n              </div>\n            </div>\n          </li>\n        ) : (\n          \"\"\n        )}\n        {props.data.repository_url ? (\n          <li className=\"list-group-item\">\n            <h3>Repository</h3>\n            <div className=\"hstack\">\n              <div className=\"align-self-start\">\n                <Icon\n                  name={\n                    props.data.repository_url.includes(\"https://github.com\")\n                      ? \"mark-github\"\n                      : \"repo-forked\"\n                  }\n                />\n              </div>\n              <div className=\"text-break flex-wrap ps-2\">\n                <a\n                  href={props.data.repository_url}\n                  className=\"text-small\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  <Humanize type=\"url\" value={props.data.repository_url} />\n                </a>\n              </div>\n            </div>\n          </li>\n        ) : (\n          \"\"\n        )}\n        <li className=\"list-group-item\">\n          <div className=\"row\">\n            <div className=\"col-6\">\n              <h3>Popularity</h3>\n              <div className=\"hstack align-items-start gap-2 fs-6\">\n                <div\n                  className={\n                    props.data.popularity_trend < 0\n                      ? \"text-danger\"\n                      : \"text-success\"\n                  }\n                >\n                  <Icon\n                    name={\n                      props.data.popularity_trend < 0\n                        ? \"chart-down\"\n                        : \"chart-up\"\n                    }\n                  />\n                </div>\n                <div>\n                  <a href=\"#\">\n                    <Humanize\n                      type=\"counter\"\n                      value={props.data.popularity_rank}\n                    />\n                  </a>\n                </div>\n                <div className=\"text-muted popularity\">\n                  <small>\n                    <Icon\n                      name={\n                        props.data.popularity_trend < 0\n                          ? \"triangle-down\"\n                          : \"triangle-up\"\n                      }\n                    />\n                    {Math.abs(props.data.popularity_trend)}\n                  </small>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-6\">\n              <h3>License</h3>\n              {props.data.license ? (\n                <a\n                  href={`https://spdx.org/licenses/${props.data.license}.html`}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  {props.data.license}\n                </a>\n              ) : (\n                \"Unknown\"\n              )}\n            </div>\n          </div>\n        </li>\n        {props.data.stars_count > 0 || props.data.open_issues_count > 0 ? (\n          <li className=\"list-group-item\">\n            <div className=\"row\">\n              <div className=\"col-6\">\n                <h3>Stars</h3>\n                <Icon name=\"star\" />\n                <span className=\"ms-2\">\n                  <Humanize type=\"counter\" value={props.data.stars_count} />\n                </span>\n              </div>\n              <div className=\"col-6\">\n                <h3>Issues</h3>\n                <Humanize type=\"counter\" value={props.data.open_issues_count} />\n              </div>\n            </div>\n          </li>\n        ) : (\n          \"\"\n        )}\n        <li className=\"list-group-item\">\n          <div className=\"row\">\n            <div className=\"col-6\">\n              <h3>Last Modified</h3>\n              <Humanize type=\"time\" value={props.data.modified_at} />\n            </div>\n            <div className=\"col-6\">\n              <h3>Unpacked Size</h3>\n              <Humanize type=\"size\" value={props.data.version.unpacked_size} />\n            </div>\n          </div>\n        </li>\n        <li className=\"list-group-item py-3\">\n          <h3>\n            <Link to={versionsUrl} className=\"link-secondary\">\n              Versions\n            </Link>{\" \"}\n            <span className=\"badge rounded-pill bg-gray-200 text-dark\">\n              {props.data.versions.length}\n            </span>\n          </h3>\n          <div className=\"hstack align-items-start gap-2\">\n            <div\n              className={\n                props.data.version.is_latest ? \"text-success\" : \"text-danger\"\n              }\n            >\n              <Icon name=\"tag\" />\n            </div>\n            <div>\n              <Link to={versionsUrl}>{props.data.version.name}</Link>\n            </div>\n            {props.data.version.is_latest ? (\n              <div>\n                <span className=\"badge rounded-pill border border-success text-success\">\n                  Latest\n                </span>\n              </div>\n            ) : (\n              <div>\n                <span className=\"badge rounded-pill border border-danger text-danger\">\n                  Newer version available\n                </span>\n              </div>\n            )}\n          </div>\n          <div className=\"text-muted ms-4\">\n            <small>\n              <Humanize type=\"time\" value={props.data.version.released_at} />\n            </small>\n          </div>\n          {props.data.versions.length > 1 ? (\n            <div className=\"mt-2\">\n              <Link to={versionsUrl} className=\"text-small\">{`+ ${\n                props.data.versions.length - 1\n              } versions`}</Link>\n            </div>\n          ) : (\n            \"\"\n          )}\n        </li>\n        {props.data.authors ? (\n          <li className=\"list-group-item py-3\">\n            <h3 className=\"mb-0\">\n              <Link\n                to={props.makeSelfUrl({ extraPath: \"insights/authors\" })}\n                className=\"link-secondary\"\n              >\n                Authors\n              </Link>{\" \"}\n              <span className=\"badge rounded-pill bg-gray-200 text-dark\">\n                {props.data.authors.length}\n              </span>\n            </h3>\n            <ul className=\"list-inline authors-list\">\n              <Truncate\n                value={props.data.authors.map((item) => (\n                  <li\n                    key={item.name}\n                    className=\"list-inline-item author-item mt-2\"\n                  >\n                    <Link to={makeSearchUrl({ query: { author: item.name } })}>\n                      <div\n                        className=\"rounded-circle\"\n                        // data-bs-toggle=\"tooltip\"\n                        title={item.name}\n                      >\n                        {item.name\n                          .split(\" \")\n                          .slice(0, 2)\n                          .map((s) => s.charAt(0).toUpperCase())\n                          .join(\"\")}\n                      </div>\n                    </Link>\n                  </li>\n                ))}\n                max={5}\n                moreTitle={`+ ${props.data.authors.length - 5} authors`}\n              />\n            </ul>\n          </li>\n        ) : (\n          \"\"\n        )}\n        <li className=\"list-group-item py-3\">\n          <h3>Badge</h3>\n          <Shield\n            title=\"PlatformIO Package Registry\"\n            message={`v${props.data.version.name}`}\n            href={props.makeSelfUrl({\n              resolve: true,\n            })}\n          />\n        </li>\n      </ul>\n    </aside>\n  );\n}\n\nPackageSidebar.propTypes = {\n  data: PropTypes.shape({\n    type: PropTypes.string.isRequired,\n    owner: PropTypes.shape({\n      username: PropTypes.string.isRequired,\n    }).isRequired,\n    name: PropTypes.string.isRequired,\n    modified_at: PropTypes.string.isRequired,\n    version: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      released_at: PropTypes.string.isRequired,\n      unpacked_size: PropTypes.number.isRequired,\n      is_latest: PropTypes.bool.isRequired,\n    }).isRequired,\n    versions: PropTypes.array.isRequired,\n    authors: PropTypes.arrayOf(\n      PropTypes.shape({\n        name: PropTypes.string.isRequired,\n        email: PropTypes.string,\n        url: PropTypes.string,\n        maintainer: PropTypes.bool,\n      })\n    ),\n    popularity_rank: PropTypes.number.isRequired,\n    popularity_trend: PropTypes.number.isRequired,\n    homepage: PropTypes.string,\n    repository_url: PropTypes.string,\n    license: PropTypes.string,\n    stars_count: PropTypes.number,\n    open_issues_count: PropTypes.number,\n    keywords: PropTypes.arrayOf(PropTypes.string),\n  }).isRequired,\n  makeSelfUrl: PropTypes.func.isRequired,\n};\n\nexport default PackageSidebar;\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport Humanize from \"../../components/humanize\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { parseRepositoryUrl } from \"./../../helpers\";\nimport semver from \"semver\";\n\nfunction PackageVersions(props) {\n  const versionToMajor = {};\n  const latestMajorVersions = {};\n  for (const version of props.data.versions) {\n    const coercedVersion = semver.coerce(version.name);\n    const majorVersion = semver.major(coercedVersion);\n    versionToMajor[version.name] = majorVersion;\n    if (\n      !latestMajorVersions[majorVersion] ||\n      semver.gt(coercedVersion, latestMajorVersions[majorVersion])\n    ) {\n      latestMajorVersions[majorVersion] = version.name;\n    }\n  }\n  return (\n    <>\n      <div className=\"alert alert-info text-center\" role=\"alert\">\n        All{\" \"}\n        <span className=\"badge bg-secondary rounded-pill\">\n          {props.data.versions.length}\n        </span>{\" \"}\n        versions of <b>{props.data.name}</b> since{\" \"}\n        <Humanize\n          type=\"time\"\n          value={props.data.added_at}\n          format=\"MMMM D, YYYY\"\n        />\n        .\n      </div>\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th scope=\"col\">Major</th>\n            <th scope=\"col\">Version</th>\n            <th scope=\"col\">Size</th>\n            <th scope=\"col\">Published</th>\n            <th scope=\"col\"></th>\n          </tr>\n        </thead>\n        <tbody>\n          {props.data.versions.map((version) => (\n            <tr\n              key={version.name}\n              className={\n                props.data.version.name === version.name\n                  ? \"table-secondary\"\n                  : \"\"\n              }\n            >\n              <td>\n                <span\n                  className={`badge rounded-pill py-2 px-3 ${\n                    latestMajorVersions[versionToMajor[version.name]] ===\n                    version.name\n                      ? version.is_latest\n                        ? \"bg-success\"\n                        : \"bg-secondary\"\n                      : \"text-dark bg-gray-200\"\n                  } ${version.is_latest ? \"fw-bold\" : \"\"}`}\n                >\n                  {`${versionToMajor[version.name]}.x`}\n                </span>\n              </td>\n              <td>\n                <Link\n                  to={props.makeSelfUrl({\n                    customVersion: !version.is_latest ? version.name : null,\n                  })}\n                  className={version.is_latest ? \"link-success fw-bold\" : \"\"}\n                >\n                  {version.name}\n                  {version.is_latest ? (\n                    <span className=\"badge rounded-pill border border-success text-success ms-3\">\n                      Latest\n                    </span>\n                  ) : (\n                    \"\"\n                  )}\n                </Link>\n              </td>\n              <td className=\"text-muted\">\n                <Humanize type=\"size\" value={version.unpacked_size} />\n              </td>\n              <td className=\"text-muted\">\n                <Humanize type=\"time\" value={version.released_at} />\n              </td>\n              <td>\n                {props.data.repository_url ? (\n                  <small>\n                    <a\n                      href={makeReleaseNotesUrl(\n                        props.data.repository_url,\n                        version.name\n                      )}\n                      className=\"link-secondary\"\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      Release Notes\n                    </a>\n                  </small>\n                ) : (\n                  \"\"\n                )}\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </>\n  );\n}\n\nfunction makeReleaseNotesUrl(repositoryUrl, version) {\n  const parts = parseRepositoryUrl(repositoryUrl);\n  if (!parts) return repositoryUrl;\n  switch (parts.provider) {\n    case \"github\":\n      return `https://github.com/${parts.username}/${parts.reponame}/releases/tag/v${version}`;\n    case \"gitlab\":\n      return `https://gitlab.com/${parts.username}/${parts.reponame}/-/tags/v${version}`;\n    default:\n      return repositoryUrl;\n  }\n}\n\nPackageVersions.propTypes = {\n  data: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    added_at: PropTypes.string.isRequired,\n    version: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n    }).isRequired,\n    versions: PropTypes.arrayOf(\n      PropTypes.shape({\n        name: PropTypes.string.isRequired,\n        released_at: PropTypes.string.isRequired,\n        is_latest: PropTypes.bool.isRequired,\n      })\n    ).isRequired,\n    repository_url: PropTypes.string,\n  }).isRequired,\n  makeSelfUrl: PropTypes.func.isRequired,\n};\n\nexport default PackageVersions;\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport { Link, Route, Routes } from \"react-router-dom\";\nimport FilePreview from \"../../components/file-preview\";\nimport Icon from \"../../components/icon\";\nimport PackageCompatibility from \"./compatibility\";\nimport PackageExamples from \"./examples\";\nimport PackageInstallation from \"./installation\";\nimport PackageSidebar from \"./sidebar\";\nimport PackageVersions from \"./versions\";\nimport PropTypes from \"prop-types\";\nimport { capitalize } from \"../../helpers\";\nimport { makePackageUrl } from \"./page\";\n\nfunction PackageTabs(props) {\n  const tabs = [\n    {\n      name: \"readme\",\n      icon: \"book\",\n      active: props.leftoverPath === \"readme\",\n    },\n    {\n      name: \"installation\",\n      icon: \"download\",\n      active: props.leftoverPath === \"installation\",\n    },\n    {\n      name: \"examples\",\n      icon: \"code\",\n      counter: props.data.examples_count || 0,\n      active: props.leftoverPath.startsWith(\"examples\"),\n      disabled: props.data.type === \"tool\",\n    },\n    {\n      name: \"compatibility\",\n      icon: \"check-circle\",\n      active: props.leftoverPath === \"compatibility\",\n    },\n    {\n      name: \"insights\",\n      icon: \"graph\",\n      active: props.leftoverPath === \"insights\",\n    },\n  ];\n\n  return (\n    <>\n      <nav>\n        <ul className=\"package-tabs nav nav-pills nav-fill flex-column flex-lg-row\">\n          {tabs\n            .filter((tab) => !tab.disabled)\n            .map((tab) => (\n              <li key={tab.name} className=\"nav-item\">\n                <Link\n                  className={`nav-link ${tab.active ? \"active\" : \"\"}`}\n                  aria-controls={tab.name}\n                  aria-selected={tab.active ? \"true\" : \"false\"}\n                  to={makePackageUrl({\n                    type: props.data.type,\n                    ownername: props.data.owner.username,\n                    name: props.data.name,\n                    extraPath: tab.name !== \"readme\" ? tab.name : undefined,\n                    version: !props.data.version.is_latest\n                      ? props.data.version.name\n                      : undefined,\n                  })}\n                >\n                  <Icon name={tab.icon} />\n                  {capitalize(tab.name)}\n                  {tab.counter ? (\n                    <span className=\"badge rounded-pill bg-gray-200 text-dark ms-2\">\n                      {tab.counter}\n                    </span>\n                  ) : (\n                    \"\"\n                  )}\n                </Link>\n              </li>\n            ))}\n        </ul>\n      </nav>\n      <div className=\"container\">\n        <div className=\"row py-3\">\n          <div className=\"col-12 col-lg-8 col-xxl-9\">\n            <Routes>\n              <Route\n                path=\"/installation\"\n                element={\n                  <PackageInstallation\n                    data={props.data}\n                    makeSelfUrl={props.makeSelfUrl}\n                  />\n                }\n              />\n              <Route\n                path=\"/examples/*\"\n                element={\n                  <PackageExamples\n                    data={props.data}\n                    makeSelfUrl={props.makeSelfUrl}\n                  />\n                }\n              />\n              <Route\n                path=\"/compatibility\"\n                element={<PackageCompatibility data={props.data} />}\n              />\n              <Route\n                path=\"/versions\"\n                element={\n                  <PackageVersions\n                    data={props.data}\n                    makeSelfUrl={props.makeSelfUrl}\n                  />\n                }\n              />\n              <Route\n                path=\"*\"\n                element={\n                  props.data.readme_url ? (\n                    <FilePreview url={props.data.readme_url} />\n                  ) : (\n                    props.data.description\n                  )\n                }\n              />\n            </Routes>\n          </div>\n          <div className=\"col-12 col-lg-4 col-xxl-3 mt-4 mt-lg-0\">\n            <PackageSidebar data={props.data} makeSelfUrl={props.makeSelfUrl} />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nPackageTabs.propTypes = {\n  data: PropTypes.shape({\n    type: PropTypes.string.isRequired,\n    owner: PropTypes.shape({\n      username: PropTypes.string.isRequired,\n    }).isRequired,\n    name: PropTypes.string.isRequired,\n    description: PropTypes.string.isRequired,\n    version: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      released_at: PropTypes.string.isRequired,\n      is_latest: PropTypes.bool.isRequired,\n    }).isRequired,\n    keywords: PropTypes.arrayOf(PropTypes.string),\n    readme_url: PropTypes.string,\n    examples_count: PropTypes.number,\n  }).isRequired,\n  leftoverPath: PropTypes.string,\n  makeSelfUrl: PropTypes.func.isRequired,\n};\n\nPackageTabs.defaultProps = {\n  leftoverPath: \"readme\",\n};\n\nexport default PackageTabs;\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport { useParams, useSearchParams } from \"react-router-dom\";\nimport PackageHeader from \"./header\";\nimport PackageTabs from \"./tabs\";\nimport { REGISTRY_FRONTEND_ENDPOINT } from \"../../constants\";\nimport Spinner from \"../../components/spinner\";\nimport { Tooltip } from \"bootstrap\";\nimport { pkgTypeToPlural } from \"../../data\";\nimport { useEffect } from \"react\";\nimport { usePackageData } from \"../../data\";\n\nexport default function PackagePage() {\n  useEffect(() => {\n    const tooltipTriggerList = [].slice.call(\n      document.querySelectorAll('[data-bs-toggle=\"tooltip\"]')\n    );\n    tooltipTriggerList.forEach((item) => new Tooltip(item));\n    window.scrollTo(0, 0);\n  });\n\n  const params = useParams();\n  const [searchParams] = useSearchParams();\n  const customVersion = searchParams.get(\"version\");\n  const { data, isLoading, isError } = usePackageData({\n    ...params,\n    version: customVersion,\n  });\n  if (isLoading || isError) return <Spinner />;\n\n  const makeSelfUrl = ({ extraPath, customVersion, resolve } = {}) =>\n    makePackageUrl({\n      type: data.type,\n      ownername: data.owner.username,\n      name: data.name,\n      extraPath,\n      resolve,\n      version:\n        customVersion || customVersion === null\n          ? customVersion\n          : !data.version.is_latest\n          ? data.version.name\n          : undefined,\n    });\n\n  return (\n    <>\n      <PackageHeader data={data} />\n      <PackageTabs\n        data={data}\n        leftoverPath={params[\"*\"] || undefined}\n        makeSelfUrl={makeSelfUrl.bind()}\n      />\n    </>\n  );\n}\n\nexport function makePackageUrl({\n  type,\n  ownername,\n  name,\n  extraPath,\n  version,\n  resolve,\n}) {\n  const parts = resolve ? [REGISTRY_FRONTEND_ENDPOINT] : [\"\"];\n  parts.push(\"packages\", pkgTypeToPlural(type), ownername, name);\n  if (extraPath) {\n    parts.push(extraPath);\n  }\n  return version ? `${parts.join(\"/\")}?version=${version}` : parts.join(\"/\");\n}\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport \"./styles/app.scss\";\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport Navbar from \"./navbar\";\nimport PackagePage from \"./pages/package/page\";\nimport { SWRConfig } from \"swr\";\nimport SearchPage from \"./pages/search/page\";\nimport { Toast } from \"bootstrap\";\nimport { dataFetcher } from \"./data\";\n\nconst swrConfig = {\n  fetcher: dataFetcher,\n  onErrorRetry: (error, key, config, revalidate, { retryCount }) => {\n    console.error(error);\n    const notifyError = () => {\n      config.appNotifyError(\n        ((error.response || {}).data || {}).message\n          ? error.response.data.message\n          : error\n      );\n    };\n    if (error && error.response && error.response.status < 500) {\n      if (error.response.status === 404) window.location.href = \"/404.html\";\n      notifyError();\n      return;\n    }\n    if (retryCount >= 5) {\n      notifyError();\n      return;\n    }\n    setTimeout(() => revalidate({ retryCount }), config.errorRetryInterval);\n  },\n};\n\nexport default function App() {\n  useEffect(() => {\n    const toastElList = [].slice.call(document.querySelectorAll(\".toast\"));\n    toastElList.forEach((item) => new Toast(item).show());\n  });\n  const [swrError, setSwrError] = useState(null);\n  const routes = (\n    <Routes>\n      <Route\n        path=\"/packages/:type/:ownername/:name/*\"\n        element={<PackagePage />}\n      />\n      <Route path=\"/search\" element={<SearchPage />} />\n    </Routes>\n  );\n  return (\n    <SWRConfig\n      value={{\n        ...swrConfig,\n        ...{ appNotifyError: setSwrError },\n      }}\n    >\n      <BrowserRouter>\n        <Navbar />\n        <main className=\"container py-4\">{routes}</main>\n      </BrowserRouter>\n      {swrError ? renderError(swrError) : \"\"}\n    </SWRConfig>\n  );\n}\n\nfunction renderError(error) {\n  return (\n    <div\n      className=\"toast position-fixed top-0 end-0 align-items-center text-white bg-danger border-0 m-2\"\n      style={{ zIndex: 50 }}\n      role=\"alert\"\n      aria-live=\"assertive\"\n      aria-atomic=\"true\"\n      data-bs-autohide=\"false\"\n    >\n      <div className=\"d-flex\">\n        <div className=\"toast-body\">{error.toString()}</div>\n        <button\n          type=\"button\"\n          className=\"btn-close btn-close-white me-2 m-auto\"\n          data-bs-dismiss=\"toast\"\n          aria-label=\"Close\"\n        ></button>\n      </div>\n    </div>\n  );\n}\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport App from \"./app\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"app\")\n);\n"],"sourceRoot":""}