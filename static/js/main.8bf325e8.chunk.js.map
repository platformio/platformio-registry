{"version":3,"sources":["components/head.jsx","components/icon.jsx","components/humanize.jsx","components/spinner.jsx","data.js","components/file-preview.jsx","helpers.js","pages/package/examples.jsx","constants.js","components/truncate.jsx","pages/package/installation.jsx","components/shield.jsx","pages/package/sidebar.jsx","pages/package/versions.jsx","pages/package/tabs.jsx","pages/package/page.jsx","search-bar.jsx","app.jsx","index.js"],"names":["Head","props","Helmet","titleTemplate","title","name","content","description","noindex","Icon","svgContent","svgWidth","size","d","xmlns","width","height","viewBox","className","dayjs","extend","require","hljs","registerLanguage","marked","setOptions","renderer","Renderer","highlight","code","lang","language","getLanguage","value","langPrefix","Humanize","type","djs","dateTime","toString","format","from","humanizeUrl","prettyBytes","Intl","NumberFormat","err","dangerouslySetInnerHTML","__html","DOMPurify","sanitize","parse","versionParts","split","length","rawVersion","parseInt","originalVersion","slice","Error","HumanizeCode","copyVisible","setCopyVisible","useState","copied","setCopied","onMouseOver","e","onMouseOut","style","marginLeft","text","onCopy","setTimeout","role","Spinner","normalizePackageType","endsWith","renderCode","contents","includes","FilePreview","url","data","error","useSWR","async","axios","get","transformResponse","revalidateIfStale","revalidateOnFocus","revalidateOnReconnect","isLoading","isError","useExternalContents","fileName","substring","lastIndexOf","toLowerCase","fileExt","parseRepositoryUrl","parsedUrl","URL","hostname","pathParts","pathname","username","reponame","provider","renderBreadcrumb","path","pathComponents","map","item","index","to","makeSelfUrl","extraPath","join","renderExplorer","examples","children","level","example","sort","nameLengthCmp","find","startsWith","files","computeChildPath","childPath","_exmp","result","visitedNames","child","push","isFile","foldersAndFilesCmp","listExampleChildren","readmeFile","readmeFileUrl","forEach","f","a","b","makeRequestExamplesUrl","repository_url","homepage","parts","packageUrl","resolve","trim","qs","stringify","body","PackageExamples","explorerPath","useParams","undefined","searchParams","useSearchParams","customVersion","items","ownername","version","usePackageExamples","owner","href","target","rel","fileUrl","activeExample","Truncate","expand","setExpand","max","btn","onClick","lessTitle","moreTitle","Array","truncateText","ellipsize","ellipse","defaultProps","propTypes","PropTypes","oneOfType","string","array","isRequired","number","renderQuickStartGuide","deps","option","optionDocsUrl","renderUsageGuide","examplesUrl","guide","headers","renderLibraryUsageGuide","renderCLIGuide","cmd","cmdDocsUrl","PackageInstallation","requirements","is_latest","test","Shield","shieldImgUrl","message","withCode","src","alt","PackageSidebar","versionsUrl","popularity_trend","popularity_rank","Math","abs","license","stars_count","open_issues_count","modified_at","unpacked_size","versions","released_at","makeReleaseNotesUrl","repositoryUrl","PackageVersions","versionToMajor","latestMajorVersions","coercedVersion","semver","coerce","majorVersion","major","gt","added_at","scope","PackageTabs","tabs","icon","active","leftoverPath","counter","examples_count","disabled","id","filter","tab","makePackageUrl","toUpperCase","element","readme_url","PackagePage","useEffect","call","document","querySelectorAll","Tooltip","window","scrollTo","params","usePackageData","byOwner","by","firstname","lastname","getByOwner","query","keywords","bind","SearchBar","React","Component","constructor","super","this","textInput","createRef","render","ref","placeholder","swrConfig","fetcher","onErrorRetry","key","config","revalidate","retryCount","response","status","appNotifyError","errorRetryInterval","App","Toast","show","swrError","setSwrError","routes","zIndex","ReactDOM","StrictMode","getElementById"],"mappings":"qLAqBeA,MAhBf,SAAcC,GACZ,OACE,eAACC,EAAA,EAAD,CAAQC,cAAc,uBAAtB,UACE,gCAAQF,EAAMG,QACd,sBAAMC,KAAK,cAAcC,QAASL,EAAMM,cACvCN,EAAMO,QAAU,sBAAMH,KAAK,SAASC,QAAQ,YAAe,O,wBCoHnDG,MAnGf,SAAcR,GACZ,IAAIS,EAAa,GAEbC,EAAW,EACf,OAAQV,EAAMW,MACZ,IAAK,QACHD,EAAW,GACX,MACF,IAAK,SACHA,EAAW,GACX,MACF,IAAK,QACHA,EAAW,GACX,MACF,QACEA,EAAW,GAEf,OAAQV,EAAMI,MACZ,IAAK,OAuCL,IAAK,kBACH,OAAO,cAAC,IAAD,CAAUO,KAAMX,EAAMW,OArC/B,IAAK,WACH,OAAO,cAAC,IAAD,CAAcA,KAAMX,EAAMW,OACnC,IAAK,OACH,OAAO,cAAC,IAAD,CAAUA,KAAMX,EAAMW,OAC/B,IAAK,QACH,OAAO,cAAC,IAAD,CAAWA,KAAMX,EAAMW,OAChC,IAAK,eACH,OAAO,cAAC,IAAD,CAAiBA,KAAMX,EAAMW,OACtC,IAAK,QACH,OAAO,cAAC,IAAD,CAAWA,KAAMX,EAAMW,OAChC,IAAK,MACH,OAAO,cAAC,IAAD,CAASA,KAAMX,EAAMW,OAC9B,IAAK,eACH,OAAO,cAAC,IAAD,CAAiBA,KAAMX,EAAMW,OACtC,IAAK,QACH,OAAO,cAAC,IAAD,CAAWA,KAAMX,EAAMW,OAChC,IAAK,cACH,OAAO,cAAC,IAAD,CAAgBA,KAAMX,EAAMW,OACrC,IAAK,cACH,OAAO,cAAC,IAAD,CAAgBA,KAAMX,EAAMW,OACrC,IAAK,gBACH,OAAO,cAAC,IAAD,CAAkBA,KAAMX,EAAMW,OACvC,IAAK,OACH,OAAO,cAAC,IAAD,CAAUA,KAAMX,EAAMW,OAC/B,IAAK,YACH,OAAO,cAAC,IAAD,CAAcA,KAAMX,EAAMW,OACnC,IAAK,OACH,OAAO,cAAC,IAAD,CAAUA,KAAMX,EAAMW,OAC/B,IAAK,cACH,OAAO,cAAC,IAAD,CAAgBA,KAAMX,EAAMW,OACrC,IAAK,sBACH,OAAO,cAAC,IAAD,CAAuBA,KAAMX,EAAMW,OAC5C,IAAK,OACH,OAAO,cAAC,IAAD,CAAUA,KAAMX,EAAMW,OAC/B,IAAK,WACH,OAAO,cAAC,IAAD,CAAaA,KAAMX,EAAMW,OAGlC,IAAK,mBACH,OAAO,cAAC,IAAD,CAAWA,KAAMX,EAAMW,OAChC,IAAK,eACH,OAAO,cAAC,IAAD,CAAUA,KAAMX,EAAMW,OAC/B,IAAK,WAEHF,EACE,sBAAMG,EAAE,0SAEV,MAEF,IAAK,aAEHH,EACE,sBAAMG,EAAE,oTAEV,MAEF,QACE,MAAO,eAGX,OACE,qBACEC,MAAM,6BACNC,MAAOJ,EACPK,OAAQL,EACRM,QApFa,YAqFbC,UAAU,SALZ,SAOGR,K,mECvGPS,IAAMC,OAAOC,EAAQ,KAErBC,IAAKC,iBACH,YACAF,EAAQ,KAEVC,IAAKC,iBAAiB,MAAOF,EAAQ,KACrCC,IAAKC,iBAAiB,OAAQF,EAAQ,KACtCC,IAAKC,iBAAiB,MAAOF,EAAQ,KACrCC,IAAKC,iBAAiB,SAAUF,EAAQ,KAExCG,SAAOC,WAAW,CAChBC,SAAU,IAAIF,SAAOG,SACrBC,UAAW,SAAUC,EAAMC,GACzB,MAAMC,EAAWT,IAAKU,YAAYF,GAAQA,EAAO,YACjD,OAAOR,IAAKM,UAAUC,EAAM,CAAEE,aAAYE,OAE5CC,WAAY,mBAmECC,MAhEf,SAAkBlC,GAChB,GAAmB,SAAfA,EAAMmC,KAAiB,CACzB,MAAMC,EAAMlB,IAAMlB,EAAMgC,OACxB,OACE,sBAAMK,SAAUrC,EAAMgC,MAAO7B,MAAOiC,EAAIE,WAAxC,SACGtC,EAAMuC,OAASH,EAAIG,OAAOvC,EAAMuC,QAAUH,EAAII,SAIrD,GAAmB,QAAfxC,EAAMmC,KACR,OAAOM,YAAYzC,EAAMgC,OAE3B,GAAmB,SAAfhC,EAAMmC,KACR,OAAOO,IAAY1C,EAAMgC,OAE3B,GAAmB,YAAfhC,EAAMmC,KACR,IACE,OAAO,IAAIQ,KAAKC,aAAa,SAASL,OAAOvC,EAAMgC,OACnD,MAAOa,GACP,OAAO7C,EAAMgC,MAGjB,GAAmB,aAAfhC,EAAMmC,KACR,OACE,qBACEW,wBAAyB,CACvBC,OAAQC,IAAUC,SAAS1B,SAAO2B,MAAMlD,EAAMgC,WAKtD,GAAmB,qBAAfhC,EAAMmC,KAA6B,CAErC,MAAMgB,EAAenD,EAAMgC,MAAMoB,MAAM,KACvC,GAA4B,IAAxBD,EAAaE,OAAc,OAAOrD,EAAMgC,MAC5C,MAAMsB,EAAaH,EAAa,GAChC,GAAII,SAASD,IAAe,GAAI,OAAOtD,EAAMgC,MAC7C,MAAMwB,EACJD,SAASD,IAAe,KAAxB,UACOC,SAASD,EAAWG,MAAM,GAAI,IADrC,YAC4CF,SACtCD,EAAWG,OAAO,KAFxB,UAIOH,EAAWG,MAAM,GAAI,GAJ5B,YAIkCF,SAC5BD,EAAWG,OAAO,GAAI,IAL5B,YAMSF,SAASD,EAAWG,OAAO,KACtC,MAAM,GAAN,OAAUzD,EAAMgC,MAAhB,aAA0BwB,EAA1B,KAEF,MAAM,IAAIE,MAAM,4BAA8B1D,EAAMmC,OAmB/C,SAASwB,EAAT,GAAuC,IAAjB,KAAE/B,EAAF,KAAQC,GAAQ,EAC3C,MAAO+B,EAAaC,GAAkBC,oBAAS,IACxCC,EAAQC,GAAaF,oBAAS,GAC/BhC,EAAWT,IAAKU,YAAYF,GAAQA,EAAO,YAOjD,OACE,sBACEZ,UAAU,SACVgD,YAAcC,GAAML,GAAe,GACnCM,WAAaD,GAAML,GAAe,GAHpC,UAKE,qBAAK5C,UAAU,0BAAf,SACE,qBAAKA,UAAU,UAAf,SACE,sBACEA,UAAS,4BAAuBa,GAChCgB,wBAAyB,CACvBC,OAAQ1B,IAAKM,UAAUC,EAAM,CAAEE,aAAYE,aAKnD,8BACE,qBACEf,UAAS,4BACP2C,EAAc,UAAY,YADnB,YAELG,EAAS,eAAiB,IAC9BK,MAAO,CAAEC,WAAY,SAJvB,SAME,cAAC,IAAD,CAAiBC,KAAM1C,EAAM2C,OA5BtB,KACbP,GAAU,GACVQ,YAAW,IAAMR,GAAU,IAAQ,MA0B7B,SACE,sBACES,KAAK,SACL,iBAAe,UACftE,MAAM,qBAHR,SAKE,cAAC,EAAD,CAAMC,KAAM2D,EAAS,QAAU,oBC9H9BW,MAVf,SAAiB1E,GACf,OACE,qBAAKiB,UAAU,cAAf,SACE,qBAAKA,UAAU,mCAAmCwD,KAAK,SAAvD,SACE,sBAAMxD,UAAU,kBAAhB,6B,6BCSR,SAAS0D,EAAqBxC,GAG5B,MAFa,cAATA,IAAsBA,EAAO,WAC7BA,EAAKyC,SAAS,OAAMzC,EAAOA,EAAKsB,MAAM,GAAI,IACvCtB,ECWT,SAAS0C,EAAWC,EAAUjD,GAI5B,MAHI,CAAC,IAAK,IAAK,MAAO,MAAO,OAAOkD,SAASlD,KAC3CA,EAAO,OAEF,cAAC8B,EAAD,CAAc/B,KAAMkD,EAAUjD,KAAMA,IAO9BmD,MAjCf,SAAqBhF,GACnB,MAAM,SAAE8E,GDmDH,SAA6BG,GAClC,MAAM,KAAEC,EAAF,MAAQC,GAAUC,YACtBH,GACAI,gBAAsBC,IAAMC,IAAIN,EAAK,CAAEO,kBAAmB,MAAON,MACjE,CACEO,mBAAmB,EACnBC,mBAAmB,EACnBC,uBAAuB,IAG3B,MAAO,CACLb,SAAUI,EACVU,WAAYT,IAAUD,EACtBW,QAASV,GChEUW,CAAoB9F,EAAMiF,KAC/C,IAAKH,EACH,OAAO,cAAC,EAAD,IAET,MAAMiB,EAAW/F,EAAMiF,IACpBe,UAAUhG,EAAMiF,IAAIgB,YAAY,KAAO,GACvCC,cACGC,EAAUJ,EACbC,UAAUD,EAASE,YAAY,KAAO,GACtCC,cAEH,MAAgB,OAAZC,EAEA,qBAAKlF,UAAU,kBAAf,SACE,cAAC,EAAD,CAAUkB,KAAK,WAAWH,MAAO8C,MAIhC,qBAAK7D,UAAU,gBAAf,SAAgC4D,EAAWC,EAAUqB,MCxBvD,SAASC,EAAmBnB,GACjC,IAAKA,EAAK,OACV,MAAMoB,EAAY,IAAIC,IAAIrB,GAC1B,IAAK,CAAC,aAAc,cAAcF,SAASsB,EAAUE,UACnD,OAEF,MAAMC,EAAYH,EAAUI,SAASrD,MAAM,KAC3C,GAAIoD,EAAUnD,OAAS,EACrB,OAEF,IAAK,CAAEqD,EAAUC,GAAYH,EAI7B,OAHIG,EAAS/B,SAAS,UACpB+B,EAAWA,EAASlD,MAAM,GAAI,IAEzB,CACLmD,SAAUP,EAAUE,SAASnD,MAAM,KAAK,GACxCsD,WACAC,Y,qBCqEJ,SAASE,EAAiB7G,EAAO8G,GAE/B,MAAMC,GADND,EAAI,kBAAcA,EAAI,WAAOA,GAAS,KACV1D,MAAM,KAClC,OACE,qBAAK,aAAW,aAAhB,SACE,oBAAInC,UAAU,aAAd,SACG8F,EAAeC,KAAI,CAACC,EAAMC,IACzBA,IAAUH,EAAe1D,OAAS,EAChC,oBAAgBpC,UAAU,yBAA1B,SACa,IAAViG,EAAc,WAAaD,GADrBC,GAIT,oBAAgBjG,UAAU,kBAA1B,SACE,cAAC,IAAD,CACEkG,GAAInH,EAAMoH,YAAY,CACpBC,UAAWN,EAAetD,MAAM,EAAGyD,EAAQ,GAAGI,KAAK,OAFvD,SAKa,IAAVJ,EAAc,WAAaD,KANvBC,SAgBrB,SAASK,EAAevH,EAAOwH,EAAUV,GACvC,MAAMW,EA8CR,SAA6BD,EAAUV,GAErC,MAAMY,GADNZ,EAAOA,GAAQ,IACMA,EAAK1D,MAAM,KAAKC,OAAS,EACxCsE,EAAUH,EACbI,KAAKC,GACLC,MAAMH,GAAYb,EAAKiB,WAAWJ,EAAQvH,QACvCqH,EAAWE,EACbA,EAAQK,MAAMhB,KAAKC,GAAD,UAAaU,EAAQvH,KAArB,YAA6B6G,EAAKH,QACpDU,EAASR,KAAKC,GAASA,EAAK7G,OAE1B6H,EAAoB7H,IACxB,MAAM8H,EAAYpB,EAAO,CAACA,EAAM1G,GAAMkH,KAAK,KAAOlH,EAClD,IAAKuH,EAAS,CACZ,MAAMQ,EAAQX,EAASM,MAAMb,GAASA,EAAK7G,OAAS8H,IACpD,GACEC,GACuB,IAAvBA,EAAMH,MAAM3E,SACX8E,EAAMH,MAAM,GAAGlB,KAAK/B,SAAS,KAE9B,MAAO,CAACmD,EAAWC,EAAMH,MAAM,GAAGlB,MAAMQ,KAAK,KAEjD,OAAOY,GAGHE,EAAS,GACTC,EAAe,GACrB,IAAK,MAAMC,KAASb,EAAU,CAC5B,IAAKa,EAAMP,WAAWjB,GACpB,SAEF,MAAM1G,EAAOkI,EAAMlF,MAAM,KAAKsE,GAC1BW,EAAatD,SAAS3E,KAG1BiI,EAAaE,KAAKnI,GAClBgI,EAAOG,KAAK,CACVC,OAAQF,IAAU,CAACxB,EAAM1G,GAAMkH,KAAK,MAAQK,EAC5CvH,OACA0G,KAAMmB,EAAiB7H,MAI3B,OAAOgI,EAAOR,KAAKa,GAxFFC,CAAoBlB,EAAUV,GACzC6B,EAAalB,EAASK,MAAMb,GAChC,CAAC,SAAU,YAAa,aAAc,cAAclC,SAClDkC,EAAK7G,KAAK8F,iBAGd,IAAI0C,EAUJ,OATID,GACFnB,EAASqB,SAASlB,IAChBA,EAAQK,MAAMa,SAASC,GACrB,CAACnB,EAAQvH,KAAM0I,EAAEhC,MAAMQ,KAAK,OAASqB,EAAW7B,KAC3C8B,EAAgBE,EAAE7D,IACnB,QAKR,qCACE,qBAAKhE,UAAU,8BAAf,SACGwG,EAAST,KAAKC,GACb,eAAC,IAAD,CAEEE,GAAInH,EAAMoH,YAAY,CACpBC,UAAU,YAAD,OAAcJ,EAAKH,QAE9B7F,UAAU,yCALZ,UAOE,cAAC,EAAD,CACEb,KAAM6G,EAAKuB,OAAS,OAAS,sBAC7B7H,KAAK,OAEP,sBAAMM,UAAU,OAAhB,SAAwBgG,EAAK7G,SAVxB6G,EAAKH,UAcf8B,EACC,qBAAK3H,UAAU,OAAf,SACE,cAAC,EAAD,CAAagE,IAAK2D,MAGpB,MAmDR,SAASf,EAAckB,EAAGC,GACxB,OAAID,EAAE3I,KAAKiD,OAAS2F,EAAE5I,KAAKiD,OAAe,EACtC0F,EAAE3I,KAAKiD,OAAS2F,EAAE5I,KAAKiD,QAAgB,EACpC,EAGT,SAASoF,EAAmBM,EAAGC,GAC7B,OAAID,EAAEP,SAAWQ,EAAER,OAAe,GAC7BO,EAAEP,QAAUQ,EAAER,QAAgB,EAC/BO,EAAE3I,KAAO4I,EAAE5I,KAAa,EACxB2I,EAAE3I,KAAO4I,EAAE5I,MAAc,EACtB,EAGT,SAAS6I,EAAuBjJ,GAC9B,MAAMoI,EAASpI,EAAMkF,KAAKgE,gBAAkBlJ,EAAMkF,KAAKiE,SACjDC,EAAQhD,EAAmBpG,EAAMkF,KAAKgE,gBAC5C,IAAKE,EAAO,OAAOhB,EACnB,MAAMiB,EAAarJ,EAAMoH,YAAY,CACnCkC,SAAS,IAELnJ,EAAQ,gDACRG,EAAc,mCAGJN,EAAMkF,KAAK/C,KAHP,kBAGqBkH,EAHrB,0UAQlBA,EARkB,mFAUpBE,OACA,OAAQH,EAAMxC,UACZ,IAAK,SACH,MAAM,sBAAN,OAA6BwC,EAAM1C,SAAnC,YACE0C,EAAMzC,SADR,uBAEe6C,IAAGC,UAAU,CAC1BtJ,QACAuJ,KAAMpJ,KAEV,IAAK,SACH,MAAM,sBAAN,OAA6B8I,EAAM1C,SAAnC,YACE0C,EAAMzC,SADR,0BAEkB6C,IAAGC,UAAU,CAC7B,eAAgBtJ,EAChB,qBAAsBG,KAE1B,QACE,OAAO8H,GAoBEuB,MAxQf,SAAyB3J,GACvB,MACM4J,EADSC,cACa,WAAQC,GAC7BC,GAAgBC,cACjBC,EAAgBF,EAAaxE,IAAI,YACjC,MAAE2E,EAAF,UAAStE,GHsBV,YAAiE,IAArC,KAAEzD,EAAF,UAAQgI,EAAR,KAAmB/J,EAAnB,QAAyBgK,GAAW,EACrEjI,EAAOwC,EAAqBxC,GAC5B,MAAM,KAAE+C,EAAF,MAAQC,GAAUC,YAAO,gBAAD,OACZ+E,EADY,YACChI,EADD,YACS/B,EADT,oBAE1BgK,EAAO,mBAAeA,GAAY,IAEpC,CACE3E,mBAAmB,EACnBC,mBAAoB0E,EACpBzE,uBAAwByE,IAG5B,MAAO,CACLF,MAAOhF,EACPU,WAAYT,IAAUD,EACtBW,QAASV,GGrCkBkF,CAAmB,CAC9ClI,KAAMnC,EAAMkF,KAAK/C,KACjBgI,UAAWnK,EAAMkF,KAAKoF,MAAM5D,SAC5BtG,KAAMJ,EAAMkF,KAAK9E,KACjBgK,QAASH,IAEX,GAAIrE,EAAW,OAAO,cAAC,EAAD,IAEtB,IAAKsE,IAAUA,EAAM7G,OACnB,OACE,qBAAKpC,UAAU,mBAAf,SACE,sBAAKA,UAAU,YAAf,UACE,oBAAIA,UAAU,aAAd,yBACA,oBAAGA,UAAU,YAAb,iBACM,4BAAIjB,EAAMkF,KAAK9E,OADrB,sEAIA,mBACEmK,KAAMtB,EAAuBjJ,GAC7BiB,UAAU,kBACVuJ,OAAO,SACPC,IAAI,sBAJN,mCAYR,IAAIC,EACAC,EASJ,OARAT,EAAMrB,SAASlB,KACRiC,EAAe,KAAK7B,WAAWJ,EAAQvH,KAAO,OACjDuK,EAAgBhD,GAElBA,EAAQK,MAAMa,SAASC,GACrB,CAACnB,EAAQvH,KAAM0I,EAAEhC,MAAMQ,KAAK,OAASsC,EAAgBc,EAAU5B,EAAE7D,IAAO,QAI1E,qCACE,sBAAKhE,UAAU,uBAAf,UACE,qBAAKA,UAAU,YAAf,SAA4B4F,EAAiB7G,EAAO4J,KACnDe,EACC,8BACE,oBACE1J,UAAU,qCACVsJ,KAAI,UC7DkB,qCD6DlB,qBAAsCvK,EAAMkF,KAAKoF,MAAM5D,SAAvD,YAAmE1G,EAAMkF,KAAK/C,KAA9E,YAAsFnC,EAAMkF,KAAK9E,KAAjG,YAAyGJ,EAAMkF,KAAKkF,QAAQhK,KAA5H,oBAA4IuK,EAAcvK,KAA1J,QACJqE,KAAK,SACL,iBAAe,UACftE,MAAK,oBAAewK,EAAcvK,KAC/BgD,MAAM,KACNK,OAAO,GAFL,aALP,UASE,cAAC,EAAD,CAAMrD,KAAK,aATb,iBAaF,MAGHsK,EACC,cAAC,EAAD,CAAazF,IAAKyF,IAElBnD,EAAevH,EAAOkK,EAAON,O,iCE5ErC,SAASgB,EAAS5K,GAChB,MAAO6K,EAAQC,GAAahH,oBAAS,GACrC,IAAK9D,EAAMgC,OAAShC,EAAMgC,MAAMqB,QAAUrD,EAAM+K,IAC9C,OAAO/K,EAAMgC,MAEf,MAAMgJ,EACJ,wBACE7I,KAAK,SACLlB,UAAU,mCACVgK,QAAS,IAAMH,GAAWD,GAH5B,SAKGA,EAAS7K,EAAMkL,UAAYlL,EAAMmL,YAGtC,OACE,qCACGN,EACG7K,EAAMgC,MACNhC,EAAMgC,iBAAiBoJ,MACvBpL,EAAMgC,MAAMyB,MAAM,EAAGzD,EAAM+K,KAC3BM,EAAarL,EAAMgC,MAAOhC,EAAM+K,KACnCC,KAKP,SAASK,EAAa/G,EAAMyG,GAC1B,GAAIzG,EAAKjB,OAAS0H,EAAK,OAAOzG,EAE9B,IADAA,EAAOgH,IAAUhH,EAAMyG,EAAK,CAAEQ,QAAS,KAChC,CAAC,IAAK,IAAK,KAAKxG,SAAST,EAAKA,EAAKjB,OAAS,KACjDiB,EAAOA,EAAK0B,UAAU,EAAG1B,EAAKjB,OAAS,GAEzC,OAAOiB,EAAO,MAGhBsG,EAASY,aAAe,CACtBN,UAAW,YACXC,UAAW,aAGbP,EAASa,UAAY,CACnBzJ,MAAO0J,IAAUC,UAAU,CAACD,IAAUE,OAAQF,IAAUG,QAAQC,WAChEf,IAAKW,IAAUK,OAAOD,WACtBZ,UAAWQ,IAAUE,OACrBT,UAAWO,IAAUE,QAGRhB,QCzBf,SAASoB,EAAsB7J,EAAM8J,GACnC,IAAIC,EACAC,EACJ,OAAQhK,GACN,IAAK,UACH+J,EAAS,WACTC,EACE,sFACF,MACF,IAAK,WACHD,EAAS,WACTC,EACE,8EACF,MACF,IAAK,OACHD,EAAS,oBACTC,EACE,gGACF,MACF,QACE,OAEJ,OACE,qCACY,SAAThK,EACC,sBAAKlB,UAAU,sBAAsBwD,KAAK,QAA1C,wEAC8D,IAC5D,mBAAG8F,KAAK,6DAAR,mCAFF,0GASA,GAEF,6CACA,qBAAItJ,UAAU,OAAd,UACE,qBAAIA,UAAU,OAAd,iBACO,IACL,mBAAGsJ,KAAK,+DAAR,4BAFF,+EAQA,oDACoB,mBAAGA,KAAM4B,EAAT,SAAyBD,IAD7C,kBACwE,IACtE,0CAFF,YAGE,qBAAKjL,UAAU,uBAAf,SACE,cAAC0C,EAAD,CAAc/B,KAAI,UAAKsK,EAAL,cAAiBD,GAAQpK,KAAK,aAGpD,4GAQR,SAASuK,EAAiBlH,EAAMkC,GAC9B,MAAMiF,EAAcjF,EAAY,CAC9BC,UAAW,aAEb,IAAIiF,EA2DN,IAA8BlM,EApD5B,MANkB,YAAd8E,EAAK/C,OAAuB+C,EAAKqH,SAAW,IAAIlJ,OAClDiJ,EAkBJ,SAAiClM,EAAMmM,EAASF,GAC9C,GAAuB,IAAnBE,EAAQlJ,OACV,OACE,+BACE,qBAAIpC,UAAU,OAAd,wDAEE,qBAAKA,UAAU,uBAAf,SACE,cAAC0C,EAAD,CAAc/B,KAAI,oBAAe2K,EAAQ,GAAvB,KAA8B1K,KAAK,aAGzD,wCACQ,cAAC,IAAD,CAAMsF,GAAIkF,EAAV,sBADR,qBACiE,IAC/D,4BAAIjM,IAFN,kBAON,OACE,4CACM,4BAAIA,IADV,gFAGE,oBAAIa,UAAU,2BAAd,SACE,cAAC,EAAD,CACEe,MAAOuK,EAAQvF,KAAI,CAACC,EAAMC,IACxB,oBAAIjG,UAAU,mBAAd,SACE,sBAAMA,UAAU,kBAAhB,SAAmCgG,QAGvC8D,IAAK,EACLI,UAAS,YAAOoB,EAAQlJ,OAAS,EAAxB,gBAGb,qBAAKpC,UAAU,uBAAf,SACE,cAAC0C,EAAD,CAAc/B,KAAI,oBAAe2K,EAAQ,GAAvB,KAA8B1K,KAAK,aAnDjD2K,CAAwBtH,EAAK9E,KAAM8E,EAAKqH,QAASF,GAClC,SAAdnH,EAAK/C,OAwDY/B,EAvDG8E,EAAK9E,KAAlCkM,EAyDA,4CACM,4BAAIlM,IADV,4BAC6C,IAC3C,mBAAGmK,KAAK,yFAAR,6BAEK,IAJP,+CAK8C,4BAAInK,IALlD,iBAK0E,IACxE,mBAAGmK,KAAK,+DAAR,4BAEK,IARP,iBASiB,IACf,+BAEG,8BACK,IAbV,kBAciB,uBAdjB,oBAeoB,IAClB,mBAAGA,KAAK,2FAAR,4BAEK,IAlBP,MAmBM,IACJ,mBAAGA,KAAK,wFAAR,0BApBF,QArDA,sBAAKtJ,UAAU,OAAf,UACE,uCACCqL,GACC,qDACe,cAAC,IAAD,CAAMnF,GAAIkF,EAAV,sBADf,qCA8ER,SAASI,EAAetK,EAAM8J,GAC5B,IAAIS,EACAC,EACJ,OAAQxK,GACN,IAAK,UACHuK,EAAM,kBACNC,EACE,4EACF,MACF,IAAK,WACHD,EAAM,uBACNC,EACE,kFACF,MACF,QACE,OAEJ,OACE,qCACE,wDACA,qBAAI1L,UAAU,OAAd,UACE,qBAAIA,UAAU,OAAd,iBACO,IACL,mBAAGsJ,KAAK,wDAAR,iCAFF,OAOU,YAATpI,EACC,qBAAIlB,UAAU,OAAd,+BACoB,sCADpB,oCACqE,IACnE,mBAAGsJ,KAAK,+DAAR,4BAEK,IAJP,iBAQA,GAEF,qDACqB,mBAAGA,KAAMoC,EAAT,SAAsBD,IAD3C,gDAE4B,wCAF5B,IAGE,qBAAKzL,UAAU,uBAAf,SACE,cAAC0C,EAAD,CAAc/B,KAAI,UAAK8K,EAAL,aAAaT,EAAb,KAAsBpK,KAAK,mBAwB1C+K,MAlPf,SAA6B5M,GAC3B,IAAI6M,EACA7M,EAAMkF,KAAKkF,QAAQ0C,UACjB,WAAWC,KAAK/M,EAAMkF,KAAKkF,QAAQhK,QACrCyM,EAAe,IAAM7M,EAAMkF,KAAKkF,QAAQhK,MAG1CyM,EAAe7M,EAAMkF,KAAKkF,QAAQhK,KAEpC,MAAM6L,EAAI,UAAMjM,EAAMkF,KAAKoF,MAAM5D,SAAvB,YAAmC1G,EAAMkF,KAAK9E,MAA9C,OACRyM,EAAY,WAAOA,GAAiB,IAEtC,OACE,sBAAK5L,UAAU,+BAAf,UACG+K,EAAsBhM,EAAMkF,KAAK/C,KAAM8J,GACvCG,EAAiBpM,EAAMkF,KAAMlF,EAAMoH,aACnCqF,EAAezM,EAAMkF,KAAK/C,KAAM8J,OClBvC,SAASe,EAAOhN,GACd,MAAMiN,EAAY,kDAA8CjN,EAAMkN,QAApD,kBAClB,OAAKlN,EAAMmN,SAKT,sBAAKlM,UAAU,2CAAf,UACE,qBAAKA,UAAU,OAAf,SACE,qBAAKmM,IAAKH,EAAcI,IAAKrN,EAAMG,UAErC,8BACE,sBAAKc,UAAU,SAAf,UACE,8BACE,cAAC,kBAAD,CACEqD,KAAI,mBAActE,EAAMuK,KAApB,uBAAuC0C,EAAvC,kBAA6DjN,EAAMG,MAAnE,YADN,SAGE,wBACEgC,KAAK,SACLlB,UAAU,0BACV,iBAAe,UACf,oBAAkB,SAClBd,MAAM,iBALR,sBAWJ,qBAAKc,UAAU,OAAf,oBACA,8BACE,cAAC,kBAAD,CACEqD,KAAI,aAAQtE,EAAMG,MAAd,aAAwB8M,EAAxB,cAA0CjN,EAAMuK,KAAhD,KADN,SAGE,wBACEpI,KAAK,SACLlB,UAAU,0BACV,iBAAe,UACf,oBAAkB,SAClBd,MAAM,qBALR,kCA9BH,qBAAKiN,IAAKH,EAAcI,IAAKrN,EAAMG,QA+C9C6M,EAAOxB,aAAe,CACpB2B,UAAU,GASGH,SCwKAM,OAjOf,SAAwBtN,GACtB,MAAMuN,EAAcvN,EAAMoH,YAAY,CACpCC,UAAW,aAEb,OACE,uBAAOpG,UAAU,kBAAjB,SACE,qBAAIA,UAAU,8BAAd,UACGjB,EAAMkF,KAAKiE,SACV,qBAAIlI,UAAU,kBAAd,UACE,0CACA,cAAC,EAAD,CAAMb,KAAK,SACX,mBACEmK,KAAMvK,EAAMkF,KAAKiE,SACjBlI,UAAU,kBACVuJ,OAAO,SACPC,IAAI,sBAJN,SAME,cAAC,EAAD,CAAUtI,KAAK,MAAMH,MAAOhC,EAAMkF,KAAKiE,gBAI3C,GAEDnJ,EAAMkF,KAAKgE,eACV,qBAAIjI,UAAU,kBAAd,UACE,4CACA,cAAC,EAAD,CACEb,KACEJ,EAAMkF,KAAKgE,eAAenE,SAAS,sBAC/B,cACA,gBAGR,mBACEwF,KAAMvK,EAAMkF,KAAKgE,eACjBjI,UAAU,kBACVuJ,OAAO,SACPC,IAAI,sBAJN,SAME,cAAC,EAAD,CAAUtI,KAAK,MAAMH,MAAOhC,EAAMkF,KAAKgE,sBAI3C,GAEF,oBAAIjI,UAAU,kBAAd,SACE,sBAAKA,UAAU,MAAf,UACE,sBAAKA,UAAU,QAAf,UACE,4CACA,sBAAKA,UAAU,sCAAf,UACE,qBACEA,UACEjB,EAAMkF,KAAKsI,iBAAmB,EAC1B,cACA,eAJR,SAOE,cAAC,EAAD,CACEpN,KACEJ,EAAMkF,KAAKsI,iBAAmB,EAC1B,aACA,eAIV,8BACE,mBAAGjD,KAAK,IAAR,SACE,cAAC,EAAD,CACEpI,KAAK,UACLH,MAAOhC,EAAMkF,KAAKuI,sBAIxB,qBAAKxM,UAAU,wBAAf,SACE,kCACE,cAAC,EAAD,CACEb,KACEJ,EAAMkF,KAAKsI,iBAAmB,EAC1B,gBACA,gBAGPE,KAAKC,IAAI3N,EAAMkF,KAAKsI,6BAK7B,sBAAKvM,UAAU,QAAf,UACE,yCACCjB,EAAMkF,KAAK0I,QACV,mBACErD,KAAI,oCAA+BvK,EAAMkF,KAAK0I,QAA1C,SACJpD,OAAO,SACPC,IAAI,sBAHN,SAKGzK,EAAMkF,KAAK0I,UAGd,kBAKP5N,EAAMkF,KAAK2I,YAAc,GAAK7N,EAAMkF,KAAK4I,kBAAoB,EAC5D,oBAAI7M,UAAU,kBAAd,SACE,sBAAKA,UAAU,MAAf,UACE,sBAAKA,UAAU,QAAf,UACE,uCACA,cAAC,EAAD,CAAMb,KAAK,cACX,sBAAMa,UAAU,OAAhB,SACE,cAAC,EAAD,CAAUkB,KAAK,UAAUH,MAAOhC,EAAMkF,KAAK2I,mBAG/C,sBAAK5M,UAAU,QAAf,UACE,wCACA,cAAC,EAAD,CAAUkB,KAAK,UAAUH,MAAOhC,EAAMkF,KAAK4I,4BAKjD,GAEF,oBAAI7M,UAAU,kBAAd,SACE,sBAAKA,UAAU,MAAf,UACE,sBAAKA,UAAU,QAAf,UACE,+CACA,cAAC,EAAD,CAAUkB,KAAK,OAAOH,MAAOhC,EAAMkF,KAAK6I,iBAE1C,sBAAK9M,UAAU,QAAf,UACE,+CACA,cAAC,EAAD,CAAUkB,KAAK,OAAOH,MAAOhC,EAAMkF,KAAKkF,QAAQ4D,wBAItD,qBAAI/M,UAAU,uBAAd,UACE,+BACE,cAAC,IAAD,CAAMkG,GAAIoG,EAAatM,UAAU,iBAAjC,sBAEQ,IACR,sBAAMA,UAAU,2CAAhB,SACGjB,EAAMkF,KAAK+I,SAAS5K,YAGzB,sBAAKpC,UAAU,iCAAf,UACE,qBACEA,UACEjB,EAAMkF,KAAKkF,QAAQ0C,UAAY,eAAiB,cAFpD,SAKE,cAAC,EAAD,CAAM1M,KAAK,UAEb,8BACE,cAAC,IAAD,CAAM+G,GAAIoG,EAAV,SAAwBvN,EAAMkF,KAAKkF,QAAQhK,SAE5CJ,EAAMkF,KAAKkF,QAAQ0C,UAClB,8BACE,sBAAM7L,UAAU,wDAAhB,sBAKF,8BACE,sBAAMA,UAAU,sDAAhB,0CAMN,qBAAKA,UAAU,kBAAf,SACE,gCACE,cAAC,EAAD,CAAUkB,KAAK,OAAOH,MAAOhC,EAAMkF,KAAKkF,QAAQ8D,kBAGnDlO,EAAMkF,KAAK+I,SAAS5K,OAAS,EAC5B,qBAAKpC,UAAU,OAAf,SACE,cAAC,IAAD,CAAMkG,GAAIoG,EAAatM,UAAU,aAAjC,qBACEjB,EAAMkF,KAAK+I,SAAS5K,OAAS,EAD/B,iBAKF,MAGJ,qBAAIpC,UAAU,uBAAd,UACE,uCACA,cAAC,GAAD,CACEd,MAAM,8BACN+M,QAAO,WAAMlN,EAAMkF,KAAKkF,QAAQhK,MAChCmK,KAAMvK,EAAMoH,YAAY,CACtBkC,SAAS,e,oBC5EvB,SAAS6E,GAAoBC,EAAehE,GAC1C,MAAMhB,EAAQhD,EAAmBgI,GACjC,IAAKhF,EAAO,OAAOgF,EACnB,OAAQhF,EAAMxC,UACZ,IAAK,SACH,MAAM,sBAAN,OAA6BwC,EAAM1C,SAAnC,YAA+C0C,EAAMzC,SAArD,0BAA+EyD,GACjF,IAAK,SACH,MAAM,sBAAN,OAA6BhB,EAAM1C,SAAnC,YAA+C0C,EAAMzC,SAArD,oBAAyEyD,GAC3E,QACE,OAAOgE,GAuBEC,OAjJf,SAAyBrO,GACvB,MAAMsO,EAAiB,GACjBC,EAAsB,GAC5B,IAAK,MAAMnE,KAAWpK,EAAMkF,KAAK+I,SAAU,CACzC,MAAMO,EAAiBC,KAAOC,OAAOtE,EAAQhK,MACvCuO,EAAeF,KAAOG,MAAMJ,GAClCF,EAAelE,EAAQhK,MAAQuO,EAE5BJ,EAAoBI,KACrBF,KAAOI,GAAGL,EAAgBD,EAAoBI,MAE9CJ,EAAoBI,GAAgBvE,EAAQhK,MAGhD,OACE,qCACE,sBAAKa,UAAU,+BAA+BwD,KAAK,QAAnD,gBACM,IACJ,sBAAMxD,UAAU,kCAAhB,SACGjB,EAAMkF,KAAK+I,SAAS5K,SACf,IAJV,eAKc,4BAAIrD,EAAMkF,KAAK9E,OAL7B,SAK6C,IAC3C,cAAC,EAAD,CACE+B,KAAK,OACLH,MAAOhC,EAAMkF,KAAK4J,SAClBvM,OAAO,iBATX,OAaA,wBAAOtB,UAAU,QAAjB,UACE,gCACE,+BACE,oBAAI8N,MAAM,MAAV,mBACA,oBAAIA,MAAM,MAAV,qBACA,oBAAIA,MAAM,MAAV,kBACA,oBAAIA,MAAM,MAAV,uBACA,oBAAIA,MAAM,aAGd,gCACG/O,EAAMkF,KAAK+I,SAASjH,KAAKoD,GACxB,qBAEEnJ,UACEjB,EAAMkF,KAAKkF,QAAQhK,OAASgK,EAAQhK,KAApC,UACOgK,EAAQ0C,UAAY,gBAAkB,mBACzC,GALR,UAQE,6BACE,sBACE7L,UAAS,uCACPsN,EAAoBD,EAAelE,EAAQhK,SAC3CgK,EAAQhK,KACJgK,EAAQ0C,UACN,aACA,eACF,wBANG,YAOL1C,EAAQ0C,UAAY,UAAY,IARtC,mBAUMwB,EAAelE,EAAQhK,MAV7B,UAaF,6BACE,eAAC,IAAD,CACE+G,GAAInH,EAAMoH,YAAY,CACpB6C,cAAgBG,EAAQ0C,UAA2B,KAAf1C,EAAQhK,OAE9Ca,UAAWmJ,EAAQ0C,UAAY,uBAAyB,GAJ1D,UAMG1C,EAAQhK,KACRgK,EAAQ0C,UACP,sBAAM7L,UAAU,6DAAhB,oBAIA,QAIN,oBAAIA,UAAU,aAAd,SACE,cAAC,EAAD,CAAUkB,KAAK,OAAOH,MAAOoI,EAAQ4D,kBAEvC,oBAAI/M,UAAU,aAAd,SACE,cAAC,EAAD,CAAUkB,KAAK,OAAOH,MAAOoI,EAAQ8D,gBAEvC,6BACGlO,EAAMkF,KAAKgE,eACV,gCACE,mBACEqB,KAAM4D,GACJnO,EAAMkF,KAAKgE,eACXkB,EAAQhK,MAEVa,UAAU,iBACVuJ,OAAO,SACPC,IAAI,sBAPN,6BAaF,OA5DCL,EAAQhK,iBCtC3B,SAAS4O,GAAYhP,GACnB,MAAMiP,EAAO,CACX,CACE7O,KAAM,SACN8O,KAAM,OACNC,OAA+B,WAAvBnP,EAAMoP,cAEhB,CACEhP,KAAM,eACN8O,KAAM,WACNC,OAA+B,iBAAvBnP,EAAMoP,cAEhB,CACEhP,KAAM,WACN8O,KAAM,OACNG,QAASrP,EAAMkF,KAAKoK,gBAAkB,EACtCH,OAAQnP,EAAMoP,aAAarH,WAAW,YACtCwH,SAA8B,SAApBvP,EAAMkF,KAAK/C,MAEvB,CACE/B,KAAM,gBACN8O,KAAM,eACNC,OAA+B,kBAAvBnP,EAAMoP,cAOhB,CACEhP,KAAM,WACN8O,KAAM,UAIV,OACE,qCACE,8BACE,oBACEM,GAAG,eACHvO,UAAU,iDAFZ,SAIGgO,EACEQ,QAAQC,IAASA,EAAIH,WACrBvI,KAAK0I,GACJ,oBAAmBzO,UAAU,WAA7B,SACE,eAAC,IAAD,CACEA,UAAS,mBAAcyO,EAAIP,OAAS,SAAW,IAC/C,gBAAeO,EAAItP,KACnB,gBAAesP,EAAIP,OAAS,OAAS,QACrChI,GAAIwI,GAAe,CACjBxN,KAAMnC,EAAMkF,KAAK/C,KACjBgI,UAAWnK,EAAMkF,KAAKoF,MAAM5D,SAC5BtG,KAAMJ,EAAMkF,KAAK9E,KACjBiH,UAAwB,WAAbqI,EAAItP,KAAoBsP,EAAItP,UAAO0J,EAC9CM,QAAUpK,EAAMkF,KAAKkF,QAAQ0C,eAEzBhD,EADA9J,EAAMkF,KAAKkF,QAAQhK,OAV3B,UAcE,cAAC,EAAD,CAAMA,KAAMsP,EAAIR,OACfQ,EAAItP,KAAK,GAAGwP,cAAgBF,EAAItP,KAAKqD,MAAM,GAC3CiM,EAAIL,QACH,sBAAMpO,UAAU,gDAAhB,SACGyO,EAAIL,UAGP,OAtBGK,EAAItP,YA6BrB,qBAAKa,UAAU,YAAf,SACE,sBAAKA,UAAU,WAAf,UACE,qBAAKA,UAAU,4BAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CACE6F,KAAK,gBACL+I,QACE,cAAC,EAAD,CACE3K,KAAMlF,EAAMkF,KACZkC,YAAapH,EAAMoH,gBAIzB,cAAC,IAAD,CACEN,KAAK,cACL+I,QACE,cAAC,EAAD,CACE3K,KAAMlF,EAAMkF,KACZkC,YAAapH,EAAMoH,gBAIzB,cAAC,IAAD,CACEN,KAAK,YACL+I,QACE,cAAC,GAAD,CACE3K,KAAMlF,EAAMkF,KACZkC,YAAapH,EAAMoH,gBAIzB,cAAC,IAAD,CACEN,KAAK,IACL+I,QACE7P,EAAMkF,KAAK4K,WACT,cAAC,EAAD,CAAa7K,IAAKjF,EAAMkF,KAAK4K,aAE7B9P,EAAMkF,KAAK5E,mBAMrB,qBAAKW,UAAU,yCAAf,SACE,cAAC,GAAD,CAAgBiE,KAAMlF,EAAMkF,KAAMkC,YAAapH,EAAMoH,wBA6BjE4H,GAAYxD,aAAe,CACzB4D,aAAc,UAGDJ,U,SCnJA,SAASe,KACtBC,qBAAU,KACmB,GAAGvM,MAAMwM,KAClCC,SAASC,iBAAiB,+BAETtH,SAAS5B,GAAS,IAAImJ,KAAQnJ,KACjDoJ,OAAOC,SAAS,EAAG,MAGrB,MAAMC,EAAS1G,eACRE,GAAgBC,cACjBC,EAAgBF,EAAaxE,IAAI,YACjC,KAAEL,EAAF,UAAQU,GXPT,YAA6D,IAArC,KAAEzD,EAAF,UAAQgI,EAAR,KAAmB/J,EAAnB,QAAyBgK,GAAW,EACjEjI,EAAOwC,EAAqBxC,GAC5B,MAAM,KAAE+C,EAAF,MAAQC,GAAUC,YAAO,gBAAD,OACZ+E,EADY,YACChI,EADD,YACS/B,GADT,OAE1BgK,EAAO,mBAAeA,GAAY,IAEpC,CACE3E,mBAAmB,EACnBC,mBAAoB0E,EACpBzE,uBAAwByE,IAG5B,MAAO,CACLlF,KAAMA,EACNU,WAAYT,IAAUD,EACtBW,QAASV,GWRiBqL,CAAe,IACtCD,EACHnG,QAASH,IAEX,GAAIrE,EAAW,OAAO,cAAC,EAAD,IAEtB,MAeM6K,EAmHR,SAAoBnG,GAClB,IAAIoG,EAAKpG,EAAMqG,WAAa,GACxBrG,EAAMsG,WACRF,IAAOA,EAAK,IAAM,IAAMpG,EAAMsG,UAEhC,OAAOF,GAAMpG,EAAM5D,SAxHHmK,CAAW3L,EAAKoF,OAChC,OACE,qCACE,cAAC,EAAD,CACEnK,MAAO+E,EAAK9E,KAAO,OAASqQ,EAC5BnQ,YAAa4E,EAAK5E,YAClBC,UAAW0J,IAEb,sBAAKhJ,UAAU,yBAAf,UACE,8BACE,qBAAIA,UAAU,KAAd,UACE,cAAC,kBAAD,CAAiBqD,KAAI,UAAKY,EAAKoF,MAAM5D,SAAhB,YAA4BxB,EAAK9E,MAAtD,SACE,uBACEqE,KAAK,SACL,iBAAe,UACftE,MAAM,2BAHR,UAKG+E,EAAKoF,MAAM5D,SALd,IAKyBxB,EAAK9E,UAGhC,wBAAOa,UAAU,eAAjB,UACE,sBAAMA,UAAU,kBAAhB,gBACA,cAAC,IAAD,CACEkG,GAAE,kBAAaqC,IAAGC,UAAU,CAC1BqH,MAAM,UAAD,OAAY5L,EAAKoF,MAAM5D,SAAvB,QAFT,SAKG+J,YAKT,8BACE,sBAAKxP,UAAU,KAAf,UACE,sBAAMA,UAAU,yCAAhB,SACE,sBAAKA,UAAU,qCAAf,UACE,8BACE,cAAC,EAAD,CAAMb,KAAI,kBAAa8E,EAAK/C,UAE9B,qBAAKlB,UAAU,OAAf,SAAuBiE,EAAK/C,YAW/B+C,EAAKuI,iBAAmB,IACvB,sBAAMxM,UAAU,wBAAhB,SACE,sBAAKA,UAAU,qCAAf,UACE,8BACE,cAAC,EAAD,CAAMb,KAAK,YAEb,qBAAKa,UAAU,OAAf,0BAIJ,WAMR,qBAAIA,UAAU,yBAAd,UACE,oBAAIA,UAAU,mBAAd,SACE,cAAC,EAAD,CAAUkB,KAAK,mBAAmBH,MAAOkD,EAAKkF,QAAQhK,SAExD,oBAAIa,UAAU,mBAAd,oBACA,oBAAIA,UAAU,gCAAd,oBACA,oBAAIA,UAAU,mBAAd,oBACA,qBAAIA,UAAU,mBAAd,uBACY,cAAC,EAAD,CAAUkB,KAAK,OAAOH,MAAOkD,EAAKkF,QAAQ8D,iBAErDhJ,EAAK6L,SACJ,qCACE,oBAAI9P,UAAU,mBAAd,oBACA,oBAAIA,UAAU,mBAAd,SACE,cAAC,EAAD,CACEe,MAAOkD,EAAK6L,SAAS/J,KAAKC,GACxB,cAAC,IAAD,CAEEE,GAAE,kBAAaqC,IAAGC,UAAU,CAC1BqH,MAAM,YAAD,OAAc7J,EAAd,QAEPhG,UAAU,OALZ,SAOE,sBAAMA,UAAU,wDAAhB,SACGgG,KAPEA,KAWT8D,IAAK,EACLI,UAAS,YAAOjG,EAAK6L,SAAS1N,OAAS,EAA9B,sBAKf,MAGJ,mBAAGpC,UAAU,OAAb,SACE,cAAC,EAAD,CAAUe,MAAOkD,EAAK5E,YAAayK,IAAK,IAAKI,UAAU,uBAEzD,cAAC,GAAD,CACEjG,KAAMA,EACNkK,aAAcmB,EAAO,WAAQzG,EAC7B1C,YA5Hc,eAAC,UAAEC,EAAF,cAAa4C,EAAb,QAA4BX,GAA7B,uDAAyC,GAAzC,OAClBqG,GAAe,CACbxN,KAAM+C,EAAK/C,KACXgI,UAAWjF,EAAKoF,MAAM5D,SACtBtG,KAAM8E,EAAK9E,KACXiH,YACAiC,UACAc,QACEH,GAAmC,OAAlBA,EACbA,EACC/E,EAAKkF,QAAQ0C,eAEdhD,EADA5E,EAAKkF,QAAQhK,QAiHQ4Q,YAc1B,SAASrB,GAAT,GAOH,IAP2B,KAC7BxN,EAD6B,UAE7BgI,EAF6B,KAG7B/J,EAH6B,UAI7BiH,EAJ6B,QAK7B+C,EAL6B,QAM7Bd,GACC,EACD,MAAMF,EAAQE,EAAU,CPlLgB,mCOkLe,CAAC,IAExD,OADAF,EAAMb,KAAK,YACHpG,GACN,IAAK,UACHiH,EAAMb,KAAK,aACX,MACF,IAAK,WACHa,EAAMb,KAAK,YACX,MACF,IAAK,OACHa,EAAMb,KAAK,SACX,MACF,QACEa,EAAMb,KAAKpG,GAMf,OAJAiH,EAAMb,KAAS4B,EAAW/J,GACtBiH,GACF+B,EAAMb,KAAKlB,GAEN+C,EAAO,UAAMhB,EAAM9B,KAAK,KAAjB,oBAAiC8C,GAAYhB,EAAM9B,KAAK,KCnMxE,MAAM2J,WAAkBC,IAAMC,UAC5BC,YAAYpR,GACVqR,MAAMrR,GACNsR,KAAKC,UAAYL,IAAMM,YAOzBC,SACE,OACE,uBAAMxQ,UAAU,iCAAhB,UACE,uBACEkB,KAAK,SACLuP,IAAKJ,KAAKC,UACVtQ,UAAU,+BACV0Q,YAAY,kBACZ,aAAW,WAEb,wBAAQ1Q,UAAU,0BAA0BkB,KAAK,SAAjD,wBAQO8O,UCrBf,MAAMW,GAAY,CAChBC,QbNKxM,eAA2BJ,GAMhC,OALKA,EAAI8C,WAAW,UAClB9C,EILiC,sCJKHA,UAEdK,IAAMC,IAAIN,IAEjBC,MaCX4M,aAAc,CAAC3M,EAAO4M,EAAKC,EAAQC,EAArB,KAAqD,IAApB,WAAEC,GAAiB,EAC5D/M,GAASA,EAAMgN,UAAsC,MAA1BhN,EAAMgN,SAASC,SAI1CF,GAAc,EAChBF,EAAOK,eAAelN,GAGxBX,YAAW,IAAMyN,EAAW,CAAEC,gBAAeF,EAAOM,uBAIzC,SAASC,KACtBvC,qBAAU,KACY,GAAGvM,MAAMwM,KAAKC,SAASC,iBAAiB,WAChDtH,SAAS5B,GAAS,IAAIuL,KAAMvL,GAAMwL,YAEhD,MAAOC,EAAUC,GAAe7O,mBAAS,MACnC8O,EACJ,cAAC,IAAD,UACE,cAAC,IAAD,CACE9L,KAAK,qCACL+I,QAAS,cAACE,GAAD,QAIf,OACE,eAAC,IAAD,CACE/N,MAAO,IACF4P,GACES,eAAgBM,GAHzB,UAME,eAAC,IAAD,WACE,wBAAQ1R,UAAU,kCAAlB,SACE,cAAC,GAAD,MAEF,sBAAMA,UAAU,iBAAhB,SAAkC2R,OAEnCF,GAKcvN,EALSuN,EAO1B,qBACEzR,UAAU,wFACVmD,MAAO,CAAEyO,OAAQ,IACjBpO,KAAK,QACL,YAAU,YACV,cAAY,OACZ,mBAAiB,QANnB,SAQE,sBAAKxD,UAAU,SAAf,UACE,qBAAKA,UAAU,aAAf,SAA6BkE,EAAM7C,aACnC,wBACEH,KAAK,SACLlB,UAAU,wCACV,kBAAgB,QAChB,aAAW,gBArBqB,MAK1C,IAAqBkE,E,qBCpDrB2N,EAASrB,OACP,cAAC,IAAMsB,WAAP,UACE,cAACR,GAAD,MAEFrC,SAAS8C,eAAe,S","file":"static/js/main.8bf325e8.chunk.js","sourcesContent":["/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport { Helmet } from \"react-helmet\";\nimport PropTypes from \"prop-types\";\n\nfunction Head(props) {\n  return (\n    <Helmet titleTemplate=\"%s – PlatformIO\">\n      <title>{props.title}</title>\n      <meta name=\"description\" content={props.description} />\n      {props.noindex ? <meta name=\"robots\" content=\"noindex\" /> : \"\"}\n    </Helmet>\n  );\n}\n\nHead.propTypes = {\n  title: PropTypes.string,\n  description: PropTypes.string,\n  noindex: PropTypes.bool,\n};\n\nexport default Head;\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport {\n  BookIcon,\n  CheckCircleIcon,\n  CheckIcon,\n  CodeIcon,\n  CopyIcon,\n  DownloadIcon,\n  FileDirectoryFillIcon,\n  FileIcon,\n  FileZipIcon,\n  FlameIcon,\n  GearIcon,\n  GraphIcon,\n  LinkIcon,\n  MarkGithubIcon,\n  RepoForkedIcon,\n  ShieldCheckIcon,\n  StackIcon,\n  StarFillIcon,\n  TagIcon,\n  TriangleDownIcon,\n  TriangleUpIcon,\n} from \"@primer/octicons-react\";\nimport PropTypes from \"prop-types\";\n\nfunction Icon(props) {\n  let svgContent = \"\";\n  let svgViewBox = \"0 0 24 24\";\n  let svgWidth = 0;\n  switch (props.size) {\n    case \"small\":\n      svgWidth = 16;\n      break;\n    case \"medium\":\n      svgWidth = 32;\n      break;\n    case \"large\":\n      svgWidth = 64;\n      break;\n    default:\n      svgWidth = 24;\n  }\n  switch (props.name) {\n    case \"book\":\n      // https://primer.style/octicons/\n      return <BookIcon size={props.size} />;\n    case \"download\":\n      return <DownloadIcon size={props.size} />;\n    case \"code\":\n      return <CodeIcon size={props.size} />;\n    case \"check\":\n      return <CheckIcon size={props.size} />;\n    case \"check-circle\":\n      return <CheckCircleIcon size={props.size} />;\n    case \"graph\":\n      return <GraphIcon size={props.size} />;\n    case \"tag\":\n      return <TagIcon size={props.size} />;\n    case \"shield-check\":\n      return <ShieldCheckIcon size={props.size} />;\n    case \"flame\":\n      return <FlameIcon size={props.size} />;\n    case \"repo-forked\":\n      return <RepoForkedIcon size={props.size} />;\n    case \"triangle-up\":\n      return <TriangleUpIcon size={props.size} />;\n    case \"triangle-down\":\n      return <TriangleDownIcon size={props.size} />;\n    case \"link\":\n      return <LinkIcon size={props.size} />;\n    case \"star-fill\":\n      return <StarFillIcon size={props.size} />;\n    case \"copy\":\n      return <CopyIcon size={props.size} />;\n    case \"mark-github\":\n      return <MarkGithubIcon size={props.size} />;\n    case \"file-directory-fill\":\n      return <FileDirectoryFillIcon size={props.size} />;\n    case \"file\":\n      return <FileIcon size={props.size} />;\n    case \"file-zip\":\n      return <FileZipIcon size={props.size} />;\n    case \"package-library\":\n      return <BookIcon size={props.size} />;\n    case \"package-platform\":\n      return <StackIcon size={props.size} />;\n    case \"package-tool\":\n      return <GearIcon size={props.size} />;\n    case \"chart-up\":\n      // https://www.imdb.com/title/tt0381061/\n      svgContent = (\n        <path d=\"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-2.6 0-5-1.3-6.4-3.3l2.8-3.4 1.3 1.5c.4.4 1 .4 1.3 0l2.9-3.2 1.3 1.4c.3.3.8.1.8-.3V8.5c0-.3-.2-.5-.5-.5h-4c-.4 0-.6.5-.3.8l1.3 1.4-2.2 2.5L9 11.3c-.4-.4-1-.4-1.3 0L4.6 15c-.4-.9-.6-1.9-.6-3 0-4.4 3.6-8 8-8s8 3.6 8 8-3.6 8-8 8z\"></path>\n      );\n      break;\n\n    case \"chart-down\":\n      // https://www.imdb.com/title/tt0381061/\n      svgContent = (\n        <path d=\"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-4.4 0-8-3.6-8-8 0-1.4.4-2.8 1-3.9L8.4 12c.4.4 1 .4 1.4 0l1.4-1.5 2.4 2.6-1.4 1.4c-.3.3-.1.9.4.9h4.3c.3 0 .5-.2.5-.5v-4.3c0-.4-.5-.7-.9-.3L15 11.6l-3.1-3.3c-.4-.4-1-.4-1.4 0L9.2 9.8 6.3 6.4C7.7 4.9 9.7 4 12 4c4.4 0 8 3.6 8 8s-3.6 8-8 8z\"></path>\n      );\n      break;\n\n    default:\n      return \"Unknown icon\";\n  }\n\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={svgWidth}\n      height={svgWidth}\n      viewBox={svgViewBox}\n      className=\"pricon\"\n    >\n      {svgContent}\n    </svg>\n  );\n}\n\nIcon.propTypes = {\n  name: PropTypes.string.isRequired,\n  size: PropTypes.any,\n};\n\nexport default Icon;\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport DOMPurify from \"dompurify\";\nimport Icon from \"../components/icon\";\nimport PropTypes from \"prop-types\";\nimport dayjs from \"dayjs\";\nimport hljs from \"highlight.js/lib/core\";\nimport humanizeUrl from \"humanize-url\";\nimport { marked } from \"marked\";\nimport prettyBytes from \"pretty-bytes\";\nimport { useState } from \"react\";\n\ndayjs.extend(require(\"dayjs/plugin/relativeTime\"));\n\nhljs.registerLanguage(\n  \"plaintext\",\n  require(\"highlight.js/lib/languages/plaintext\")\n);\nhljs.registerLanguage(\"cpp\", require(\"highlight.js/lib/languages/cpp\"));\nhljs.registerLanguage(\"json\", require(\"highlight.js/lib/languages/json\"));\nhljs.registerLanguage(\"ini\", require(\"highlight.js/lib/languages/ini\"));\nhljs.registerLanguage(\"python\", require(\"highlight.js/lib/languages/python\"));\n\nmarked.setOptions({\n  renderer: new marked.Renderer(),\n  highlight: function (code, lang) {\n    const language = hljs.getLanguage(lang) ? lang : \"plaintext\";\n    return hljs.highlight(code, { language }).value;\n  },\n  langPrefix: \"hljs language-\",\n});\n\nfunction Humanize(props) {\n  if (props.type === \"time\") {\n    const djs = dayjs(props.value);\n    return (\n      <time dateTime={props.value} title={djs.toString()}>\n        {props.format ? djs.format(props.format) : djs.from()}\n      </time>\n    );\n  }\n  if (props.type === \"url\") {\n    return humanizeUrl(props.value);\n  }\n  if (props.type === \"size\") {\n    return prettyBytes(props.value);\n  }\n  if (props.type === \"counter\") {\n    try {\n      return new Intl.NumberFormat(\"en-US\").format(props.value);\n    } catch (err) {\n      return props.value;\n    }\n  }\n  if (props.type === \"markdown\") {\n    return (\n      <div\n        dangerouslySetInnerHTML={{\n          __html: DOMPurify.sanitize(marked.parse(props.value)),\n        }}\n      />\n    );\n  }\n  if (props.type === \"original-version\") {\n    // https://github.com/platformio/platformio-core/blob/develop/platformio/package/version.py#L45\n    const versionParts = props.value.split(\".\");\n    if (versionParts.length !== 3) return props.value;\n    const rawVersion = versionParts[1];\n    if (parseInt(rawVersion) <= 99) return props.value;\n    const originalVersion =\n      parseInt(rawVersion) <= 9999\n        ? `${parseInt(rawVersion.slice(0, -2))}.${parseInt(\n            rawVersion.slice(-2)\n          )}`\n        : `${rawVersion.slice(0, -4)}.${parseInt(\n            rawVersion.slice(-4, -2)\n          )}.${parseInt(rawVersion.slice(-2))}`;\n    return `${props.value} (${originalVersion})`;\n  }\n  throw new Error(\"Unknown humanize type -> \" + props.type);\n}\n\nHumanize.propTypes = {\n  type: PropTypes.oneOf([\n    \"time\",\n    \"url\",\n    \"size\",\n    \"counter\",\n    \"markdown\",\n    \"original-version\",\n  ]).isRequired,\n  value: PropTypes.any.isRequired,\n  format: PropTypes.string,\n  copyCode: PropTypes.string,\n};\n\nexport default Humanize;\n\nexport function HumanizeCode({ code, lang }) {\n  const [copyVisible, setCopyVisible] = useState(false);\n  const [copied, setCopied] = useState(false);\n  const language = hljs.getLanguage(lang) ? lang : \"plaintext\";\n\n  const onCopy = () => {\n    setCopied(true);\n    setTimeout(() => setCopied(false), 1000);\n  };\n\n  return (\n    <div\n      className=\"d-flex\"\n      onMouseOver={(e) => setCopyVisible(true)}\n      onMouseOut={(e) => setCopyVisible(false)}\n    >\n      <div className=\"flex-fill overflow-auto\">\n        <pre className=\"p-0 m-0\">\n          <code\n            className={`m-0 hljs language-${language}`}\n            dangerouslySetInnerHTML={{\n              __html: hljs.highlight(code, { language }).value,\n            }}\n          />\n        </pre>\n      </div>\n      <div>\n        <div\n          className={`position-absolute ${\n            copyVisible ? \"visible\" : \"invisible\"\n          } ${copied ? \"text-success\" : \"\"}`}\n          style={{ marginLeft: \"-23px\" }}\n        >\n          <CopyToClipboard text={code} onCopy={onCopy}>\n            <span\n              role=\"button\"\n              data-bs-toggle=\"tooltip\"\n              title=\"Click to Copy Code\"\n            >\n              <Icon name={copied ? \"check\" : \"copy\"} />\n            </span>\n          </CopyToClipboard>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nHumanizeCode.propTypes = {\n  code: PropTypes.string.isRequired,\n  lang: PropTypes.string,\n};\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nfunction Spinner(props) {\n  return (\n    <div className=\"text-center\">\n      <div className=\"spinner-border spinner-border-sm\" role=\"status\">\n        <span className=\"visually-hidden\">Loading...</span>\n      </div>\n    </div>\n  );\n}\n\nexport default Spinner;\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport { REGISTRY_API_ENDPOINT } from \"./constants\";\nimport axios from \"axios\";\nimport useSWR from \"swr\";\n\nexport async function dataFetcher(url) {\n  if (!url.startsWith(\"http\")) {\n    url = REGISTRY_API_ENDPOINT + url;\n  }\n  const res = await axios.get(url);\n  // console.debug(\"fetch result\", url, res);\n  return res.data;\n}\n\nfunction normalizePackageType(type) {\n  if (type === \"libraries\") type = \"library\";\n  if (type.endsWith(\"s\")) type = type.slice(0, -1);\n  return type;\n}\n\nexport function usePackageData({ type, ownername, name, version }) {\n  type = normalizePackageType(type);\n  const { data, error } = useSWR(\n    `/v3/packages/${ownername}/${type}/${name}${\n      version ? `?version=${version}` : \"\"\n    }`,\n    {\n      revalidateIfStale: false,\n      revalidateOnFocus: !version,\n      revalidateOnReconnect: !version,\n    }\n  );\n  return {\n    data: data,\n    isLoading: !error && !data,\n    isError: error,\n  };\n}\n\nexport function usePackageExamples({ type, ownername, name, version }) {\n  type = normalizePackageType(type);\n  const { data, error } = useSWR(\n    `/v3/packages/${ownername}/${type}/${name}/examples${\n      version ? `?version=${version}` : \"\"\n    }`,\n    {\n      revalidateIfStale: false,\n      revalidateOnFocus: !version,\n      revalidateOnReconnect: !version,\n    }\n  );\n  return {\n    items: data,\n    isLoading: !error && !data,\n    isError: error,\n  };\n}\n\nexport function useExternalContents(url) {\n  const { data, error } = useSWR(\n    url,\n    async (url) => (await axios.get(url, { transformResponse: [] })).data,\n    {\n      revalidateIfStale: false,\n      revalidateOnFocus: false,\n      revalidateOnReconnect: false,\n    }\n  );\n  return {\n    contents: data,\n    isLoading: !error && !data,\n    isError: error,\n  };\n}\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport Humanize, { HumanizeCode } from \"./humanize\";\nimport PropTypes from \"prop-types\";\nimport Spinner from \"./spinner\";\nimport { useExternalContents } from \"../data\";\n\nfunction FilePreview(props) {\n  const { contents } = useExternalContents(props.url);\n  if (!contents) {\n    return <Spinner />;\n  }\n  const fileName = props.url\n    .substring(props.url.lastIndexOf(\"/\") + 1)\n    .toLowerCase();\n  const fileExt = fileName\n    .substring(fileName.lastIndexOf(\".\") + 1)\n    .toLowerCase();\n\n  if (fileExt === \"md\") {\n    return (\n      <div className=\"readme-contents\">\n        <Humanize type=\"markdown\" value={contents} />\n      </div>\n    );\n  }\n  return <div className=\"file-contents\">{renderCode(contents, fileExt)}</div>;\n}\n\nfunction renderCode(contents, lang) {\n  if ([\"c\", \"h\", \"hpp\", \"ino\", \"pde\"].includes(lang)) {\n    lang = \"cpp\";\n  }\n  return <HumanizeCode code={contents} lang={lang} />;\n}\n\nFilePreview.propTypes = {\n  url: PropTypes.string.isRequired,\n};\n\nexport default FilePreview;\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nexport function parseRepositoryUrl(url) {\n  if (!url) return undefined;\n  const parsedUrl = new URL(url);\n  if (![\"github.com\", \"gitlab.com\"].includes(parsedUrl.hostname)) {\n    return undefined;\n  }\n  const pathParts = parsedUrl.pathname.split(\"/\");\n  if (pathParts.length < 3) {\n    return undefined;\n  }\n  let [, username, reponame] = pathParts;\n  if (reponame.endsWith(\".git\")) {\n    reponame = reponame.slice(0, -4);\n  }\n  return {\n    provider: parsedUrl.hostname.split(\".\")[0],\n    username,\n    reponame,\n  };\n}\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport { useParams, useSearchParams } from \"react-router-dom\";\nimport FilePreview from \"../../components/file-preview\";\nimport Icon from \"../../components/icon\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { REGISTRY_DL_ENDPOINT } from \"../../constants\";\nimport Spinner from \"../../components/spinner\";\nimport { parseRepositoryUrl } from \"./../../helpers\";\nimport qs from \"querystringify\";\nimport { usePackageExamples } from \"../../data\";\n\nfunction PackageExamples(props) {\n  const params = useParams();\n  const explorerPath = params[\"*\"] || undefined;\n  const [searchParams] = useSearchParams();\n  const customVersion = searchParams.get(\"version\");\n  const { items, isLoading } = usePackageExamples({\n    type: props.data.type,\n    ownername: props.data.owner.username,\n    name: props.data.name,\n    version: customVersion,\n  });\n  if (isLoading) return <Spinner />;\n\n  if (!items || !items.length) {\n    return (\n      <div className=\"card text-center\">\n        <div className=\"card-body\">\n          <h5 className=\"card-title\">No examples</h5>\n          <p className=\"card-text\">\n            The <b>{props.data.name}</b> package does not provide any examples\n            but you can request them.\n          </p>\n          <a\n            href={makeRequestExamplesUrl(props)}\n            className=\"btn btn-primary\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Request examples\n          </a>\n        </div>\n      </div>\n    );\n  }\n  let fileUrl = undefined;\n  let activeExample = undefined;\n  items.forEach((example) => {\n    if ((explorerPath + \"/\").startsWith(example.name + \"/\")) {\n      activeExample = example;\n    }\n    example.files.forEach((f) =>\n      [example.name, f.path].join(\"/\") === explorerPath ? (fileUrl = f.url) : \"\"\n    );\n  });\n  return (\n    <>\n      <div className=\"d-flex flex-row my-2\">\n        <div className=\"flex-fill\">{renderBreadcrumb(props, explorerPath)}</div>\n        {activeExample ? (\n          <div>\n            <a\n              className=\"btn btn-sm btn-success text-nowrap\"\n              href={`${REGISTRY_DL_ENDPOINT}/download/${props.data.owner.username}/${props.data.type}/${props.data.name}/${props.data.version.name}/example/${activeExample.name}.zip`}\n              role=\"button\"\n              data-bs-toggle=\"tooltip\"\n              title={`Download \"${activeExample.name\n                .split(\"/\")\n                .slice(-1)}\" example`}\n            >\n              <Icon name=\"file-zip\" /> Download\n            </a>\n          </div>\n        ) : (\n          \"\"\n        )}\n      </div>\n      {fileUrl ? (\n        <FilePreview url={fileUrl} />\n      ) : (\n        renderExplorer(props, items, explorerPath)\n      )}\n    </>\n  );\n}\n\nfunction renderBreadcrumb(props, path) {\n  path = `examples${path ? `/${path}` : \"\"}`;\n  const pathComponents = path.split(\"/\");\n  return (\n    <nav aria-label=\"breadcrumb\">\n      <ol className=\"breadcrumb\">\n        {pathComponents.map((item, index) =>\n          index === pathComponents.length - 1 ? (\n            <li key={index} className=\"breadcrumb-item active\">\n              {index === 0 ? \"Examples\" : item}\n            </li>\n          ) : (\n            <li key={index} className=\"breadcrumb-item\">\n              <Link\n                to={props.makeSelfUrl({\n                  extraPath: pathComponents.slice(0, index + 1).join(\"/\"),\n                })}\n              >\n                {index === 0 ? \"Examples\" : item}\n              </Link>\n            </li>\n          )\n        )}\n      </ol>\n    </nav>\n  );\n}\n\nfunction renderExplorer(props, examples, path) {\n  const children = listExampleChildren(examples, path);\n  const readmeFile = children.find((item) =>\n    [\"readme\", \"readme.md\", \"readme.rst\", \"readme.txt\"].includes(\n      item.name.toLowerCase()\n    )\n  );\n  let readmeFileUrl = undefined;\n  if (readmeFile) {\n    examples.forEach((example) => {\n      example.files.forEach((f) =>\n        [example.name, f.path].join(\"/\") === readmeFile.path\n          ? (readmeFileUrl = f.url)\n          : \"\"\n      );\n    });\n  }\n  return (\n    <>\n      <div className=\"list-group example-explorer\">\n        {children.map((item) => (\n          <Link\n            key={item.path}\n            to={props.makeSelfUrl({\n              extraPath: `examples/${item.path}`,\n            })}\n            className=\"list-group-item list-group-item-action\"\n          >\n            <Icon\n              name={item.isFile ? \"file\" : \"file-directory-fill\"}\n              size=\"18\"\n            />\n            <span className=\"ms-2\">{item.name}</span>\n          </Link>\n        ))}\n      </div>\n      {readmeFileUrl ? (\n        <div className=\"mt-3\">\n          <FilePreview url={readmeFileUrl} />\n        </div>\n      ) : (\n        \"\"\n      )}\n    </>\n  );\n}\n\nfunction listExampleChildren(examples, path) {\n  path = path || \"\";\n  const level = path ? path.split(\"/\").length : 0;\n  const example = examples\n    .sort(nameLengthCmp)\n    .find((example) => path.startsWith(example.name));\n  const children = example\n    ? example.files.map((item) => `${example.name}/${item.path}`)\n    : examples.map((item) => item.name);\n\n  const computeChildPath = (name) => {\n    const childPath = path ? [path, name].join(\"/\") : name;\n    if (!example) {\n      const _exmp = examples.find((item) => item.name === childPath);\n      if (\n        _exmp &&\n        _exmp.files.length === 1 &&\n        !_exmp.files[0].path.includes(\"/\")\n      )\n        return [childPath, _exmp.files[0].path].join(\"/\");\n    }\n    return childPath;\n  };\n\n  const result = [];\n  const visitedNames = [];\n  for (const child of children) {\n    if (!child.startsWith(path)) {\n      continue;\n    }\n    const name = child.split(\"/\")[level];\n    if (visitedNames.includes(name)) {\n      continue;\n    }\n    visitedNames.push(name);\n    result.push({\n      isFile: child === [path, name].join(\"/\") && example,\n      name,\n      path: computeChildPath(name),\n    });\n  }\n\n  return result.sort(foldersAndFilesCmp);\n}\n\nfunction nameLengthCmp(a, b) {\n  if (a.name.length < b.name.length) return 1;\n  if (a.name.length > b.name.length) return -1;\n  return 0;\n}\n\nfunction foldersAndFilesCmp(a, b) {\n  if (a.isFile && !b.isFile) return 1;\n  if (!a.isFile && b.isFile) return -1;\n  if (a.name > b.name) return 1;\n  if (a.name < b.name) return -1;\n  return 0;\n}\n\nfunction makeRequestExamplesUrl(props) {\n  const result = props.data.repository_url || props.data.homepage;\n  const parts = parseRepositoryUrl(props.data.repository_url);\n  if (!parts) return result;\n  const packageUrl = props.makeSelfUrl({\n    resolve: true,\n  });\n  const title = \"[FR] Project Examples for PlatformIO Registry\";\n  const description = `\nHi,\n\nCurrently, the [${props.data.type} page](${packageUrl}) in the PlatformIO Registry doesn't contain any quick start projects for developers. Such examples serve both to highlight widespread use cases and to help newcomers to get up and running much more quickly.\n\nPlease consider adding a few comprehensive project examples to the PlatformIO Registry.\n\nUseful links:\n- ${packageUrl}\n- https://docs.platformio.org/en/latest/librarymanager/config.html#examples\n`.trim();\n  switch (parts.provider) {\n    case \"github\":\n      return `https://github.com/${parts.username}/${\n        parts.reponame\n      }/issues/new?${qs.stringify({\n        title,\n        body: description,\n      })}`;\n    case \"gitlab\":\n      return `https://gitlab.com/${parts.username}/${\n        parts.reponame\n      }/-/issues/new/?${qs.stringify({\n        \"issue[title]\": title,\n        \"issue[description]\": description,\n      })}`;\n    default:\n      return result;\n  }\n}\n\nPackageExamples.propTypes = {\n  data: PropTypes.shape({\n    type: PropTypes.string.isRequired,\n    owner: PropTypes.shape({\n      username: PropTypes.string.isRequired,\n    }).isRequired,\n    name: PropTypes.string.isRequired,\n    version: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n    }).isRequired,\n    repository_url: PropTypes.string,\n    homepage: PropTypes.string,\n  }).isRequired,\n  makeSelfUrl: PropTypes.func.isRequired,\n};\n\nexport default PackageExamples;\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nexport const REGISTRY_FRONTEND_ENDPOINT = \"https://registry.platformio.org\";\nexport const REGISTRY_API_ENDPOINT = \"https://api.registry.platformio.org\";\nexport const REGISTRY_DL_ENDPOINT = \"https://dl.registry.platformio.org\";\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport PropTypes from \"prop-types\";\nimport ellipsize from \"ellipsize\";\nimport { useState } from \"react\";\n\nfunction Truncate(props) {\n  const [expand, setExpand] = useState(false);\n  if (!props.value || props.value.length <= props.max) {\n    return props.value;\n  }\n  const btn = (\n    <button\n      type=\"button\"\n      className=\"btn btn-link btn-sm btn-truncate\"\n      onClick={() => setExpand(!expand)}\n    >\n      {expand ? props.lessTitle : props.moreTitle}\n    </button>\n  );\n  return (\n    <>\n      {expand\n        ? props.value\n        : props.value instanceof Array\n        ? props.value.slice(0, props.max)\n        : truncateText(props.value, props.max)}\n      {btn}\n    </>\n  );\n}\n\nfunction truncateText(text, max) {\n  if (text.length < max) return text;\n  text = ellipsize(text, max, { ellipse: \"\" });\n  while ([\".\", \",\", \";\"].includes(text[text.length - 1])) {\n    text = text.substring(0, text.length - 1);\n  }\n  return text + \"...\";\n}\n\nTruncate.defaultProps = {\n  lessTitle: \"Show less\",\n  moreTitle: \"Show more\",\n};\n\nTruncate.propTypes = {\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.array]).isRequired,\n  max: PropTypes.number.isRequired,\n  lessTitle: PropTypes.string,\n  moreTitle: PropTypes.string,\n};\n\nexport default Truncate;\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport { HumanizeCode } from \"../../components/humanize\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport Truncate from \"../../components/truncate\";\n\nfunction PackageInstallation(props) {\n  let requirements = undefined;\n  if (props.data.version.is_latest) {\n    if (/^[\\d.]+$/.test(props.data.version.name)) {\n      requirements = \"^\" + props.data.version.name;\n    }\n  } else {\n    requirements = props.data.version.name;\n  }\n  const deps = `${props.data.owner.username}/${props.data.name}${\n    requirements ? `@${requirements}` : \"\"\n  }`;\n  return (\n    <div className=\"installation readme-contents\">\n      {renderQuickStartGuide(props.data.type, deps)}\n      {renderUsageGuide(props.data, props.makeSelfUrl)}\n      {renderCLIGuide(props.data.type, deps)}\n    </div>\n  );\n}\n\nfunction renderQuickStartGuide(type, deps) {\n  let option = undefined;\n  let optionDocsUrl = undefined;\n  switch (type) {\n    case \"library\":\n      option = \"lib_deps\";\n      optionDocsUrl =\n        \"https://docs.platformio.org/en/latest/projectconf/section_env_library.html#lib-deps\";\n      break;\n    case \"platform\":\n      option = \"platform\";\n      optionDocsUrl =\n        \"https://docs.platformio.org/en/latest/projectconf/section_env_platform.html\";\n      break;\n    case \"tool\":\n      option = \"platform_packages\";\n      optionDocsUrl =\n        \"https://docs.platformio.org/en/latest/projectconf/section_env_platform.html#platform-packages\";\n      break;\n    default:\n      return;\n  }\n  return (\n    <>\n      {type === \"tool\" ? (\n        <div className=\"alert alert-warning\" role=\"alert\">\n          You do not need to install tools manually, they are part of{\" \"}\n          <a href=\"https://docs.platformio.org/en/latest/platforms/index.html\">\n            Development Platforms\n          </a>\n          . If you want to override a platform-dependent tool with another\n          version, see the instruction below.\n        </div>\n      ) : (\n        \"\"\n      )}\n      <h2>Quick Start</h2>\n      <ol className=\"mb-4\">\n        <li className=\"pb-1\">\n          Open{\" \"}\n          <a href=\"https://docs.platformio.org/en/latest/projectconf/index.html\">\n            platformio.ini\n          </a>\n          , a project configuration file located in the root of PlatformIO\n          project.\n        </li>\n        <li>\n          Add the following <a href={optionDocsUrl}>{option}</a> option to your{\" \"}\n          <code>[env:]</code> section:\n          <div className=\"py-1 user-select-all\">\n            <HumanizeCode code={`${option} = ${deps}`} lang=\"cpp\" />\n          </div>\n        </li>\n        <li>\n          Build a project, PlatformIO will automatically install dependencies.\n        </li>\n      </ol>\n    </>\n  );\n}\n\nfunction renderUsageGuide(data, makeSelfUrl) {\n  const examplesUrl = makeSelfUrl({\n    extraPath: \"examples\",\n  });\n  let guide = undefined;\n  if (data.type === \"library\" && (data.headers || []).length) {\n    guide = renderLibraryUsageGuide(data.name, data.headers, examplesUrl);\n  } else if (data.type === \"tool\") {\n    guide = renderToolUsageGuide(data.name);\n  }\n\n  return (\n    <div className=\"mb-4\">\n      <h2>Usage</h2>\n      {guide || (\n        <>\n          Please check <Link to={examplesUrl}>Examples</Link> on how to use this\n          package.\n        </>\n      )}\n    </div>\n  );\n}\n\nfunction renderLibraryUsageGuide(name, headers, examplesUrl) {\n  if (headers.length === 1) {\n    return (\n      <ol>\n        <li className=\"pb-1\">\n          Add the following line to your source code:\n          <div className=\"my-1 user-select-all\">\n            <HumanizeCode code={`#include <${headers[0]}>`} lang=\"cpp\" />\n          </div>\n        </li>\n        <li>\n          Check <Link to={examplesUrl}>Examples</Link> on how to use the{\" \"}\n          <b>{name}</b> library.\n        </li>\n      </ol>\n    );\n  }\n  return (\n    <>\n      The <b>{name}</b> library provides the next header files that can be\n      included in your project:\n      <ul className=\"list-inline headers-list\">\n        <Truncate\n          value={headers.map((item, index) => (\n            <li className=\"list-inline-item\">\n              <code className=\"user-select-all\">{item}</code>\n            </li>\n          ))}\n          max={5}\n          moreTitle={`+ ${headers.length - 5} headers`}\n        />\n      </ul>\n      <div className=\"my-1 user-select-all\">\n        <HumanizeCode code={`#include <${headers[0]}>`} lang=\"cpp\" />\n      </div>\n    </>\n  );\n}\n\nfunction renderToolUsageGuide(name) {\n  return (\n    <>\n      The <b>{name}</b> will be installed to the{\" \"}\n      <a href=\"https://docs.platformio.org/en/latest/projectconf/section_platformio.html#packages-dir\">\n        package storage\n      </a>{\" \"}\n      on your machine. You can later refer to the <b>{name}</b> folder in the{\" \"}\n      <a href=\"https://docs.platformio.org/en/latest/projectconf/index.html\">\n        platformio.ini\n      </a>{\" \"}\n      file using the{\" \"}\n      <code>\n        {/* eslint-disable-next-line no-template-curly-in-string */}\n        {\"${platformio.package_dir}\"}\n      </code>{\" \"}\n      interpolation. <br />\n      See examples with{\" \"}\n      <a href=\"https://docs.platformio.org/en/latest/projectconf/section_env_upload.html#upload-command\">\n        upload_command\n      </a>{\" \"}\n      and{\" \"}\n      <a href=\"https://docs.platformio.org/en/latest/projectconf/section_env_debug.html#debug-server\">\n        debug_server\n      </a>\n      .\n    </>\n  );\n}\n\nfunction renderCLIGuide(type, deps) {\n  let cmd = undefined;\n  let cmdDocsUrl = undefined;\n  switch (type) {\n    case \"library\":\n      cmd = \"pio lib install\";\n      cmdDocsUrl =\n        \"https://docs.platformio.org/en/latest/core/userguide/lib/cmd_install.html\";\n      break;\n    case \"platform\":\n      cmd = \"pio platform install\";\n      cmdDocsUrl =\n        \"https://docs.platformio.org/en/latest/core/userguide/platforms/cmd_install.html\";\n      break;\n    default:\n      return;\n  }\n  return (\n    <>\n      <h2>Command Line Interface</h2>\n      <ol className=\"mb-4\">\n        <li className=\"pb-1\">\n          Open{\" \"}\n          <a href=\"https://docs.platformio.org/en/latest/core/index.html\">\n            PlatformIO Core CLI\n          </a>\n          .\n        </li>\n        {type === \"library\" ? (\n          <li className=\"pb-1\">\n            Change directory (<code>cd</code>) to the PlatformIO project where{\" \"}\n            <a href=\"https://docs.platformio.org/en/latest/projectconf/index.html\">\n              platformio.ini\n            </a>{\" \"}\n            is located.\n          </li>\n        ) : (\n          \"\"\n        )}\n        <li>\n          Copy the following <a href={cmdDocsUrl}>{cmd}</a> command and paste\n          into the CLI shell, press <kbd>Enter</kbd>:\n          <div className=\"my-1 user-select-all\">\n            <HumanizeCode code={`${cmd} \"${deps}\"`} lang=\"cpp\" />\n          </div>\n        </li>\n      </ol>\n    </>\n  );\n}\n\nPackageInstallation.propTypes = {\n  data: PropTypes.shape({\n    type: PropTypes.string.isRequired,\n    owner: PropTypes.shape({\n      username: PropTypes.string.isRequired,\n    }).isRequired,\n    name: PropTypes.string.isRequired,\n    headers: PropTypes.arrayOf(PropTypes.string.isRequired),\n    version: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      is_latest: PropTypes.bool.isRequired,\n    }).isRequired,\n  }).isRequired,\n  makeSelfUrl: PropTypes.func.isRequired,\n};\n\nexport default PackageInstallation;\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport PropTypes from \"prop-types\";\n\nfunction Shield(props) {\n  const shieldImgUrl = `https://img.shields.io/badge/PlatformIO-${props.message}-blue?logo=bmw`;\n  if (!props.withCode) {\n    return <img src={shieldImgUrl} alt={props.title} />;\n  }\n\n  return (\n    <div className=\"d-flex justify-content-between flex-wrap\">\n      <div className=\"pe-2\">\n        <img src={shieldImgUrl} alt={props.title} />\n      </div>\n      <div>\n        <div className=\"d-flex\">\n          <div>\n            <CopyToClipboard\n              text={`<a href=\"${props.href}\"><img src=\"${shieldImgUrl}\" alt=\"${props.title}\" /></a>`}\n            >\n              <button\n                type=\"button\"\n                className=\"btn btn-link btn-sm p-0\"\n                data-bs-toggle=\"tooltip\"\n                data-bs-placement=\"bottom\"\n                title=\"Copy HTML code\"\n              >\n                HTML\n              </button>\n            </CopyToClipboard>\n          </div>\n          <div className=\"px-1\">•</div>\n          <div>\n            <CopyToClipboard\n              text={`[![${props.title}](${shieldImgUrl})](${props.href})`}\n            >\n              <button\n                type=\"button\"\n                className=\"btn btn-link btn-sm p-0\"\n                data-bs-toggle=\"tooltip\"\n                data-bs-placement=\"bottom\"\n                title=\"Copy Markdown code\"\n              >\n                Markdown\n              </button>\n            </CopyToClipboard>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nShield.defaultProps = {\n  withCode: true,\n};\nShield.propTypes = {\n  title: PropTypes.string.isRequired,\n  message: PropTypes.string.isRequired,\n  href: PropTypes.string,\n  withCode: PropTypes.bool,\n};\n\nexport default Shield;\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport Humanize from \"../../components/humanize\";\nimport Icon from \"../../components/icon\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport Shield from \"../../components/shield\";\n\nfunction PackageSidebar(props) {\n  const versionsUrl = props.makeSelfUrl({\n    extraPath: \"versions\",\n  });\n  return (\n    <aside className=\"package-sidebar\">\n      <ul className=\"list-group list-group-flush\">\n        {props.data.homepage ? (\n          <li className=\"list-group-item\">\n            <h3>Homepage</h3>\n            <Icon name=\"link\" />\n            <a\n              href={props.data.homepage}\n              className=\"text-small ms-2\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              <Humanize type=\"url\" value={props.data.homepage} />\n            </a>\n          </li>\n        ) : (\n          \"\"\n        )}\n        {props.data.repository_url ? (\n          <li className=\"list-group-item\">\n            <h3>Repository</h3>\n            <Icon\n              name={\n                props.data.repository_url.includes(\"https://github.com\")\n                  ? \"mark-github\"\n                  : \"repo-forked\"\n              }\n            />\n            <a\n              href={props.data.repository_url}\n              className=\"text-small ms-2\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              <Humanize type=\"url\" value={props.data.repository_url} />\n            </a>\n          </li>\n        ) : (\n          \"\"\n        )}\n        <li className=\"list-group-item\">\n          <div className=\"row\">\n            <div className=\"col-6\">\n              <h3>Popularity</h3>\n              <div className=\"hstack align-items-start gap-2 fs-6\">\n                <div\n                  className={\n                    props.data.popularity_trend < 0\n                      ? \"text-danger\"\n                      : \"text-success\"\n                  }\n                >\n                  <Icon\n                    name={\n                      props.data.popularity_trend < 0\n                        ? \"chart-down\"\n                        : \"chart-up\"\n                    }\n                  />\n                </div>\n                <div>\n                  <a href=\"#\">\n                    <Humanize\n                      type=\"counter\"\n                      value={props.data.popularity_rank}\n                    />\n                  </a>\n                </div>\n                <div className=\"text-muted popularity\">\n                  <small>\n                    <Icon\n                      name={\n                        props.data.popularity_trend < 0\n                          ? \"triangle-down\"\n                          : \"triangle-up\"\n                      }\n                    />\n                    {Math.abs(props.data.popularity_trend)}\n                  </small>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-6\">\n              <h3>License</h3>\n              {props.data.license ? (\n                <a\n                  href={`https://spdx.org/licenses/${props.data.license}.html`}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  {props.data.license}\n                </a>\n              ) : (\n                \"Unknown\"\n              )}\n            </div>\n          </div>\n        </li>\n        {props.data.stars_count > 0 || props.data.open_issues_count > 0 ? (\n          <li className=\"list-group-item\">\n            <div className=\"row\">\n              <div className=\"col-6\">\n                <h3>Stars</h3>\n                <Icon name=\"star-fill\" />\n                <span className=\"ms-2\">\n                  <Humanize type=\"counter\" value={props.data.stars_count} />\n                </span>\n              </div>\n              <div className=\"col-6\">\n                <h3>Issues</h3>\n                <Humanize type=\"counter\" value={props.data.open_issues_count} />\n              </div>\n            </div>\n          </li>\n        ) : (\n          \"\"\n        )}\n        <li className=\"list-group-item\">\n          <div className=\"row\">\n            <div className=\"col-6\">\n              <h3>Last Modified</h3>\n              <Humanize type=\"time\" value={props.data.modified_at} />\n            </div>\n            <div className=\"col-6\">\n              <h3>Unpacked Size</h3>\n              <Humanize type=\"size\" value={props.data.version.unpacked_size} />\n            </div>\n          </div>\n        </li>\n        <li className=\"list-group-item py-3\">\n          <h3>\n            <Link to={versionsUrl} className=\"link-secondary\">\n              Versions\n            </Link>{\" \"}\n            <span className=\"badge rounded-pill bg-gray-200 text-dark\">\n              {props.data.versions.length}\n            </span>\n          </h3>\n          <div className=\"hstack align-items-start gap-2\">\n            <div\n              className={\n                props.data.version.is_latest ? \"text-success\" : \"text-danger\"\n              }\n            >\n              <Icon name=\"tag\" />\n            </div>\n            <div>\n              <Link to={versionsUrl}>{props.data.version.name}</Link>\n            </div>\n            {props.data.version.is_latest ? (\n              <div>\n                <span className=\"badge rounded-pill border border-success text-success\">\n                  Latest\n                </span>\n              </div>\n            ) : (\n              <div>\n                <span className=\"badge rounded-pill border border-danger text-danger\">\n                  Newer version available\n                </span>\n              </div>\n            )}\n          </div>\n          <div className=\"text-muted ms-4\">\n            <small>\n              <Humanize type=\"time\" value={props.data.version.released_at} />\n            </small>\n          </div>\n          {props.data.versions.length > 1 ? (\n            <div className=\"mt-2\">\n              <Link to={versionsUrl} className=\"text-small\">{`+ ${\n                props.data.versions.length - 1\n              } versions`}</Link>\n            </div>\n          ) : (\n            \"\"\n          )}\n        </li>\n        <li className=\"list-group-item py-3\">\n          <h3>Badge</h3>\n          <Shield\n            title=\"PlatformIO Package Registry\"\n            message={`v${props.data.version.name}`}\n            href={props.makeSelfUrl({\n              resolve: true,\n            })}\n          />\n        </li>\n      </ul>\n    </aside>\n  );\n}\n\nPackageSidebar.propTypes = {\n  data: PropTypes.shape({\n    type: PropTypes.string.isRequired,\n    owner: PropTypes.shape({\n      username: PropTypes.string.isRequired,\n    }).isRequired,\n    name: PropTypes.string.isRequired,\n    modified_at: PropTypes.string.isRequired,\n    version: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      released_at: PropTypes.string.isRequired,\n      unpacked_size: PropTypes.number.isRequired,\n      is_latest: PropTypes.bool.isRequired,\n    }).isRequired,\n    versions: PropTypes.array.isRequired,\n    popularity_rank: PropTypes.number.isRequired,\n    popularity_trend: PropTypes.number.isRequired,\n    homepage: PropTypes.string,\n    repository_url: PropTypes.string,\n    license: PropTypes.string,\n    stars_count: PropTypes.number,\n    open_issues_count: PropTypes.number,\n    keywords: PropTypes.arrayOf(PropTypes.string),\n  }).isRequired,\n  makeSelfUrl: PropTypes.func.isRequired,\n};\n\nexport default PackageSidebar;\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport Humanize from \"../../components/humanize\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { parseRepositoryUrl } from \"./../../helpers\";\nimport semver from \"semver\";\n\nfunction PackageVersions(props) {\n  const versionToMajor = {};\n  const latestMajorVersions = {};\n  for (const version of props.data.versions) {\n    const coercedVersion = semver.coerce(version.name);\n    const majorVersion = semver.major(coercedVersion);\n    versionToMajor[version.name] = majorVersion;\n    if (\n      !latestMajorVersions[majorVersion] ||\n      semver.gt(coercedVersion, latestMajorVersions[majorVersion])\n    ) {\n      latestMajorVersions[majorVersion] = version.name;\n    }\n  }\n  return (\n    <>\n      <div className=\"alert alert-info text-center\" role=\"alert\">\n        All{\" \"}\n        <span className=\"badge bg-secondary rounded-pill\">\n          {props.data.versions.length}\n        </span>{\" \"}\n        versions of <b>{props.data.name}</b> since{\" \"}\n        <Humanize\n          type=\"time\"\n          value={props.data.added_at}\n          format=\"MMMM D, YYYY\"\n        />\n        .\n      </div>\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th scope=\"col\">Major</th>\n            <th scope=\"col\">Version</th>\n            <th scope=\"col\">Size</th>\n            <th scope=\"col\">Published</th>\n            <th scope=\"col\"></th>\n          </tr>\n        </thead>\n        <tbody>\n          {props.data.versions.map((version) => (\n            <tr\n              key={version.name}\n              className={\n                props.data.version.name === version.name\n                  ? `${version.is_latest ? \"table-success\" : \"table-secondary\"}`\n                  : \"\"\n              }\n            >\n              <td>\n                <span\n                  className={`badge rounded-pill py-2 px-3 ${\n                    latestMajorVersions[versionToMajor[version.name]] ===\n                    version.name\n                      ? version.is_latest\n                        ? \"bg-success\"\n                        : \"bg-secondary\"\n                      : \"text-dark bg-gray-200\"\n                  } ${version.is_latest ? \"fw-bold\" : \"\"}`}\n                >\n                  {`${versionToMajor[version.name]}.x`}\n                </span>\n              </td>\n              <td>\n                <Link\n                  to={props.makeSelfUrl({\n                    customVersion: !version.is_latest ? version.name : null,\n                  })}\n                  className={version.is_latest ? \"link-success fw-bold\" : \"\"}\n                >\n                  {version.name}\n                  {version.is_latest ? (\n                    <span className=\"badge rounded-pill border border-success text-success ms-3\">\n                      Latest\n                    </span>\n                  ) : (\n                    \"\"\n                  )}\n                </Link>\n              </td>\n              <td className=\"text-muted\">\n                <Humanize type=\"size\" value={version.unpacked_size} />\n              </td>\n              <td className=\"text-muted\">\n                <Humanize type=\"time\" value={version.released_at} />\n              </td>\n              <td>\n                {props.data.repository_url ? (\n                  <small>\n                    <a\n                      href={makeReleaseNotesUrl(\n                        props.data.repository_url,\n                        version.name\n                      )}\n                      className=\"link-secondary\"\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      Release Notes\n                    </a>\n                  </small>\n                ) : (\n                  \"\"\n                )}\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </>\n  );\n}\n\nfunction makeReleaseNotesUrl(repositoryUrl, version) {\n  const parts = parseRepositoryUrl(repositoryUrl);\n  if (!parts) return repositoryUrl;\n  switch (parts.provider) {\n    case \"github\":\n      return `https://github.com/${parts.username}/${parts.reponame}/releases/tag/v${version}`;\n    case \"gitlab\":\n      return `https://gitlab.com/${parts.username}/${parts.reponame}/-/tags/v${version}`;\n    default:\n      return repositoryUrl;\n  }\n}\n\nPackageVersions.propTypes = {\n  data: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    added_at: PropTypes.string.isRequired,\n    version: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n    }).isRequired,\n    versions: PropTypes.arrayOf(\n      PropTypes.shape({\n        name: PropTypes.string.isRequired,\n        released_at: PropTypes.string.isRequired,\n        is_latest: PropTypes.bool.isRequired,\n      })\n    ).isRequired,\n    repository_url: PropTypes.string,\n  }).isRequired,\n  makeSelfUrl: PropTypes.func.isRequired,\n};\n\nexport default PackageVersions;\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport { Link, Route, Routes } from \"react-router-dom\";\nimport FilePreview from \"../../components/file-preview\";\nimport Icon from \"../../components/icon\";\nimport PackageExamples from \"./examples\";\nimport PackageInstallation from \"./installation\";\nimport PackageSidebar from \"./sidebar\";\nimport PackageVersions from \"./versions\";\nimport PropTypes from \"prop-types\";\nimport { makePackageUrl } from \"./page\";\n\nfunction PackageTabs(props) {\n  const tabs = [\n    {\n      name: \"readme\",\n      icon: \"book\",\n      active: props.leftoverPath === \"readme\",\n    },\n    {\n      name: \"installation\",\n      icon: \"download\",\n      active: props.leftoverPath === \"installation\",\n    },\n    {\n      name: \"examples\",\n      icon: \"code\",\n      counter: props.data.examples_count || 0,\n      active: props.leftoverPath.startsWith(\"examples\"),\n      disabled: props.data.type === \"tool\",\n    },\n    {\n      name: \"compatibility\",\n      icon: \"check-circle\",\n      active: props.leftoverPath === \"compatibility\",\n    },\n    // {\n    //   name: \"versions\",\n    //   icon: \"tag\",\n    //   counter: props.data.versions.length,\n    // },\n    {\n      name: \"insights\",\n      icon: \"graph\",\n    },\n  ];\n\n  return (\n    <>\n      <nav>\n        <ul\n          id=\"package-tabs\"\n          className=\"nav nav-pills nav-fill flex-column flex-lg-row\"\n        >\n          {tabs\n            .filter((tab) => !tab.disabled)\n            .map((tab) => (\n              <li key={tab.name} className=\"nav-item\">\n                <Link\n                  className={`nav-link ${tab.active ? \"active\" : \"\"}`}\n                  aria-controls={tab.name}\n                  aria-selected={tab.active ? \"true\" : \"false\"}\n                  to={makePackageUrl({\n                    type: props.data.type,\n                    ownername: props.data.owner.username,\n                    name: props.data.name,\n                    extraPath: tab.name !== \"readme\" ? tab.name : undefined,\n                    version: !props.data.version.is_latest\n                      ? props.data.version.name\n                      : undefined,\n                  })}\n                >\n                  <Icon name={tab.icon} />\n                  {tab.name[0].toUpperCase() + tab.name.slice(1)}\n                  {tab.counter ? (\n                    <span className=\"badge rounded-pill bg-gray-200 text-dark ms-2\">\n                      {tab.counter}\n                    </span>\n                  ) : (\n                    \"\"\n                  )}\n                </Link>\n              </li>\n            ))}\n        </ul>\n      </nav>\n      <div className=\"container\">\n        <div className=\"row py-3\">\n          <div className=\"col-12 col-lg-8 col-xxl-9\">\n            <Routes>\n              <Route\n                path=\"/installation\"\n                element={\n                  <PackageInstallation\n                    data={props.data}\n                    makeSelfUrl={props.makeSelfUrl}\n                  />\n                }\n              />\n              <Route\n                path=\"/examples/*\"\n                element={\n                  <PackageExamples\n                    data={props.data}\n                    makeSelfUrl={props.makeSelfUrl}\n                  />\n                }\n              />\n              <Route\n                path=\"/versions\"\n                element={\n                  <PackageVersions\n                    data={props.data}\n                    makeSelfUrl={props.makeSelfUrl}\n                  />\n                }\n              />\n              <Route\n                path=\"*\"\n                element={\n                  props.data.readme_url ? (\n                    <FilePreview url={props.data.readme_url} />\n                  ) : (\n                    props.data.description\n                  )\n                }\n              />\n            </Routes>\n          </div>\n          <div className=\"col-12 col-lg-4 col-xxl-3 mt-4 mt-lg-0\">\n            <PackageSidebar data={props.data} makeSelfUrl={props.makeSelfUrl} />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nPackageTabs.propTypes = {\n  data: PropTypes.shape({\n    type: PropTypes.string.isRequired,\n    owner: PropTypes.shape({\n      username: PropTypes.string.isRequired,\n    }).isRequired,\n    name: PropTypes.string.isRequired,\n    description: PropTypes.string.isRequired,\n    version: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      released_at: PropTypes.string.isRequired,\n      is_latest: PropTypes.bool.isRequired,\n    }).isRequired,\n    keywords: PropTypes.arrayOf(PropTypes.string),\n    readme_url: PropTypes.string,\n    examples_count: PropTypes.number,\n  }).isRequired,\n  leftoverPath: PropTypes.string,\n  makeSelfUrl: PropTypes.func.isRequired,\n};\n\nPackageTabs.defaultProps = {\n  leftoverPath: \"readme\",\n};\n\nexport default PackageTabs;\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport { Link, useParams, useSearchParams } from \"react-router-dom\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport Head from \"../../components/head\";\nimport Humanize from \"../../components/humanize\";\nimport Icon from \"../../components/icon\";\nimport PackageTabs from \"./tabs\";\nimport { REGISTRY_FRONTEND_ENDPOINT } from \"../../constants\";\nimport Spinner from \"../../components/spinner\";\nimport { Tooltip } from \"bootstrap\";\nimport Truncate from \"../../components/truncate\";\nimport qs from \"querystringify\";\nimport { useEffect } from \"react\";\nimport { usePackageData } from \"../../data\";\n\nexport default function PackagePage() {\n  useEffect(() => {\n    const tooltipTriggerList = [].slice.call(\n      document.querySelectorAll('[data-bs-toggle=\"tooltip\"]')\n    );\n    tooltipTriggerList.forEach((item) => new Tooltip(item));\n    window.scrollTo(0, 0);\n  });\n\n  const params = useParams();\n  const [searchParams] = useSearchParams();\n  const customVersion = searchParams.get(\"version\");\n  const { data, isLoading } = usePackageData({\n    ...params,\n    version: customVersion,\n  });\n  if (isLoading) return <Spinner />;\n\n  const makeSelfUrl = ({ extraPath, customVersion, resolve } = {}) =>\n    makePackageUrl({\n      type: data.type,\n      ownername: data.owner.username,\n      name: data.name,\n      extraPath,\n      resolve,\n      version:\n        customVersion || customVersion === null\n          ? customVersion\n          : !data.version.is_latest\n          ? data.version.name\n          : undefined,\n    });\n\n  const byOwner = getByOwner(data.owner);\n  return (\n    <>\n      <Head\n        title={data.name + \" by \" + byOwner}\n        description={data.description}\n        noindex={!!customVersion}\n      />\n      <div className=\"hstack flex-wrap gap-2\">\n        <div>\n          <h1 className=\"h2\">\n            <CopyToClipboard text={`${data.owner.username}/${data.name}`}>\n              <span\n                role=\"button\"\n                data-bs-toggle=\"tooltip\"\n                title=\"Click to Copy Dependency\"\n              >\n                {data.owner.username}/{data.name}\n              </span>\n            </CopyToClipboard>\n            <small className=\"h5 ms-2 me-2\">\n              <span className=\"text-muted me-1\">by</span>\n              <Link\n                to={`/search?${qs.stringify({\n                  query: `owner:\"${data.owner.username}\"`,\n                })}`}\n              >\n                {byOwner}\n              </Link>\n            </small>\n          </h1>\n        </div>\n        <div>\n          <sup className=\"h5\">\n            <span className=\"badge bg-secondary text-uppercase me-2\">\n              <div className=\"d-flex flex-row align-items-center\">\n                <div>\n                  <Icon name={`package-${data.type}`} />\n                </div>\n                <div className=\"ps-2\">{data.type}</div>\n              </div>\n            </span>\n            {/* <span className=\"badge bg-success me-2\">\n              <div className=\"d-flex flex-row align-items-center\">\n                <div>\n                  <Icon name=\"shield-check\" />\n                </div>\n                <div className=\"ps-2\">OFFICIAL</div>\n              </div>\n            </span> */}\n            {data.popularity_rank <= 100 ? (\n              <span className=\"badge bg-warning me-2\">\n                <div className=\"d-flex flex-row align-items-center\">\n                  <div>\n                    <Icon name=\"flame\" />\n                  </div>\n                  <div className=\"ps-2\">TOP 100</div>\n                </div>\n              </span>\n            ) : (\n              \"\"\n            )}\n          </sup>\n        </div>\n      </div>\n\n      <ul className=\"list-inline text-muted\">\n        <li className=\"list-inline-item\">\n          <Humanize type=\"original-version\" value={data.version.name} />\n        </li>\n        <li className=\"list-inline-item\">•</li>\n        <li className=\"list-inline-item text-success\">Public</li>\n        <li className=\"list-inline-item\">•</li>\n        <li className=\"list-inline-item\">\n          Published <Humanize type=\"time\" value={data.version.released_at} />\n        </li>\n        {data.keywords ? (\n          <>\n            <li className=\"list-inline-item\">•</li>\n            <li className=\"list-inline-item\">\n              <Truncate\n                value={data.keywords.map((item) => (\n                  <Link\n                    key={item}\n                    to={`/search?${qs.stringify({\n                      query: `keyword:\"${item}\"`,\n                    })}`}\n                    className=\"me-2\"\n                  >\n                    <span className=\"badge rounded-pill border border-primary text-primary\">\n                      {item}\n                    </span>\n                  </Link>\n                ))}\n                max={5}\n                moreTitle={`+ ${data.keywords.length - 5} categories`}\n              />\n            </li>\n          </>\n        ) : (\n          \"\"\n        )}\n      </ul>\n      <p className=\"mb-4\">\n        <Truncate value={data.description} max={255} moreTitle=\"Read more →\" />\n      </p>\n      <PackageTabs\n        data={data}\n        leftoverPath={params[\"*\"] || undefined}\n        makeSelfUrl={makeSelfUrl.bind()}\n      />\n    </>\n  );\n}\n\nfunction getByOwner(owner) {\n  let by = owner.firstname || \"\";\n  if (owner.lastname) {\n    by += (by ? \" \" : \"\") + owner.lastname;\n  }\n  return by || owner.username;\n}\n\nexport function makePackageUrl({\n  type,\n  ownername,\n  name,\n  extraPath,\n  version,\n  resolve,\n}) {\n  const parts = resolve ? [REGISTRY_FRONTEND_ENDPOINT] : [\"\"];\n  parts.push(\"packages\");\n  switch (type) {\n    case \"library\":\n      parts.push(\"libraries\");\n      break;\n    case \"platform\":\n      parts.push(\"platform\");\n      break;\n    case \"tool\":\n      parts.push(\"tools\");\n      break;\n    default:\n      parts.push(type);\n  }\n  parts.push(...[ownername, name]);\n  if (extraPath) {\n    parts.push(extraPath);\n  }\n  return version ? `${parts.join(\"/\")}?version=${version}` : parts.join(\"/\");\n}\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport React from \"react\";\n\nclass SearchBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.textInput = React.createRef();\n  }\n\n  // componentDidMount() {\n  //   this.textInput.current.focus();\n  // }\n\n  render() {\n    return (\n      <form className=\"input-group shadow-sm bg-light\">\n        <input\n          type=\"search\"\n          ref={this.textInput}\n          className=\"form-control form-control-lg\"\n          placeholder=\"Search packages\"\n          aria-label=\"Search\"\n        />\n        <button className=\"btn btn-outline-primary\" type=\"submit\">\n          Search\n        </button>\n      </form>\n    );\n  }\n}\n\nexport default SearchBar;\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport \"./styles/app.scss\";\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport PackagePage from \"./pages/package/page\";\nimport { SWRConfig } from \"swr\";\nimport SearchBar from \"./search-bar\";\nimport { Toast } from \"bootstrap\";\nimport { dataFetcher } from \"./data\";\n\nconst swrConfig = {\n  fetcher: dataFetcher,\n  onErrorRetry: (error, key, config, revalidate, { retryCount }) => {\n    if (error && error.response && error.response.status === 404) {\n      // TODO: Redirect to 404.html\n      return;\n    }\n    if (retryCount >= 5) {\n      config.appNotifyError(error);\n      return;\n    }\n    setTimeout(() => revalidate({ retryCount }), config.errorRetryInterval);\n  },\n};\n\nexport default function App() {\n  useEffect(() => {\n    const toastElList = [].slice.call(document.querySelectorAll(\".toast\"));\n    toastElList.forEach((item) => new Toast(item).show());\n  });\n  const [swrError, setSwrError] = useState(null);\n  const routes = (\n    <Routes>\n      <Route\n        path=\"/packages/:type/:ownername/:name/*\"\n        element={<PackagePage />}\n      />\n    </Routes>\n  );\n  return (\n    <SWRConfig\n      value={{\n        ...swrConfig,\n        ...{ appNotifyError: setSwrError },\n      }}\n    >\n      <BrowserRouter>\n        <header className=\"p-4 shadow border border-bottom\">\n          <SearchBar />\n        </header>\n        <main className=\"container py-4\">{routes}</main>\n      </BrowserRouter>\n      {swrError ? renderError(swrError) : \"\"}\n    </SWRConfig>\n  );\n}\n\nfunction renderError(error) {\n  return (\n    <div\n      className=\"toast position-fixed top-0 end-0 align-items-center text-white bg-danger border-0 m-2\"\n      style={{ zIndex: 50 }}\n      role=\"alert\"\n      aria-live=\"assertive\"\n      aria-atomic=\"true\"\n      data-bs-autohide=\"false\"\n    >\n      <div className=\"d-flex\">\n        <div className=\"toast-body\">{error.toString()}</div>\n        <button\n          type=\"button\"\n          className=\"btn-close btn-close-white me-2 m-auto\"\n          data-bs-dismiss=\"toast\"\n          aria-label=\"Close\"\n        ></button>\n      </div>\n    </div>\n  );\n}\n","/* Copyright 2019-present PlatformIO Labs <contact@piolabs.com> */\n\nimport App from \"./app\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"app\")\n);\n"],"sourceRoot":""}